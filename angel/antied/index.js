(function(E,p,g,h,D,n,S,e,d,le,oe,F,b,We){"use strict";function Xe(a){var t=Object.create(null);return a&&Object.keys(a).forEach(function(r){if(r!=="default"){var l=Object.getOwnPropertyDescriptor(a,r);Object.defineProperty(t,r,l.get?l:{enumerable:!0,get:function(){return a[r]}})}}),t.default=a,Object.freeze(t)}var Qe=Xe(d);const{openLazy:Ke,hideActionSheet:Va}=g.findByProps("openLazy","hideActionSheet");function ie(a,t){if(a!=null&&t!=null)for(const r of Object.keys(t))typeof t[r]=="object"&&!Array.isArray(t[r])?(typeof a[r]!="object"&&(a[r]={}),ie(a[r],t[r])):a[r]??(a[r]=t[r])}function Je(a,t){try{Ke(new Promise(function(r){return r({default:a})}),"ActionSheet",t)}catch(r){p.logger.error(r.stack),showToast("Got error when opening ActionSheet! Please check debug logs")}}const ce={toInt(a){return a=a.replace(/^#/,""),parseInt(a,16)},toHex(a){return"#"+a.toString(16).toUpperCase()},HSLtoHEX(a,t,r){r/=100;const l=t*Math.min(r,1-r)/100,s=function(u){const o=(u+a/30)%12,f=r-l*Math.max(Math.min(o-3,9-o,1),-1);return Math.round(255*f).toString(16).padStart(2,"0")};return`#${s(0)}${s(8)}${s(4)}`}},qe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mJsrQAAAgwBAJ9P6qYAAAAASUVORK5CYII=",Ze={alphaToHex:function(a){a=Number(a);const t=Math.min(Math.max(a,0),100),r=Math.round(t/100*255).toString(16).toUpperCase();return r.length===1?"0"+r:r},hexAlphaToPercent:function(a){const t=parseInt(a,16);return isNaN(t)?0:Math.round(t/255*100)}},ue=g.findByProps("getChannel","getDMFromUserId"),de=g.findByProps("_channelMessages"),et=g.findByProps("getMessage","getMessages"),tt=function(){return Date.now()},at=function(){const a=n.storage.switches?.timestampStyle;return a&&"tTdDfFR".includes(a)?a:"R"};function rt(a){return D.before("dispatch",e.FluxDispatcher,function(t){if(E.isEnabled)try{const r=t[0];if(!r||!r.type)return;const l=n.storage;if(l.debug&&console.log("[ANTIED flux]",r),r.type==="MESSAGE_DELETE"){if(!l.switches?.enableMD||r.otherPluginBypass)return;const s=de.get(r.channelId)?.get(r.id);if(!s?.author?.id||!s.author.username||s?.author?.bot&&s?.flags==64||!s.content&&!s.attachments?.length&&!s.embeds?.length||l.switches.ignoreBots&&s.author.bot||l.inputs?.ignoredUserList?.length&&l.inputs.ignoredUserList.some(function(f){return f.id===s.author.id||f.username===s.author.username}))return;const u=a.get(r.id);if(u?.stage===2)return;if(u?.stage===1)return u.stage=2,u.message||t;const o=ue.getChannel(s.channel_id||r.channelId)?.guild_id;return r.message={...s,content:s.content,channel_id:s.channel_id||r.channelId,guild_id:o,was_deleted:!0,message_reference:s?.message_reference||s?.messageReference||null},l.switches.useEphemeralForDeleted&&(r.message.flags=64),r.type="MESSAGE_UPDATE",r.channelId=s.channel_id||r.channelId,r.optimistic=!1,r.sendMessageOptions={},r.isPushNotification=!1,a.set(r.id,{message:t,stage:1}),t}if(r.type==="MESSAGE_UPDATE"){if(!l.switches?.enableMU||r.otherPluginBypass)return;const s=r.message;if(!s||s.author?.bot)return;const u=s.channel_id||r.channelId,o=s.id||r.id,f=et.getMessage(u,o)||de.get(u)?.get(o);if(!f?.author?.id||!f.author.username||!f.content&&!f.attachments?.length&&!f.embeds?.length||!s.content||s.content===f.content||l.inputs?.ignoredUserList?.length&&l.inputs.ignoredUserList.some(function(m){return m.id===f.author.id||m.username===f.author.username}))return;const w=l.inputs?.editedMessageBuffer||"`[ EDITED ]`",c=l.switches?.addTimestampForEdits?`(<t:${Math.floor(tt()/1e3)}:${at()}>)`:null,i=l.misc?.timestampPos==="BEFORE";let R=`${w}`;return R=c?i?`${c} ${R}

`:`${R} ${c}

`:`${R}

`,r.message={...s,content:`${f.content} ${R}${s.content}`,guild_id:ue.getChannel(u)?.guild_id??s.guild_id,edited_timestamp:"invalid_timestamp",message_reference:s?.message_reference||f?.messageReference||null},t}}catch(r){S.showToast("[ANTIED] FluxDispatcher crash \u2013 check logs"),console.error(`[ANTIED] Flux patch
`,r)}})}const st=g.findByProps("sendMessage","startEditMessage");function nt(){return D.before("startEditMessage",st,function(a){if(!E.isEnabled)return;let t=n.storage?.inputs?.editedMessageBuffer||"`[ EDITED ]`";const r=re(t),l=new RegExp(`(?:(?:\\s${r}(\\s\\(<t:\\d+:[tTdDfFR]>\\))?\\n{2})|(?:(?:\\s\\(<t:\\d+:[tTdDfFR]>\\) ${r}\\n{2})))`,"gm"),[s,u,o]=a,f=o.split(l),w=f[f.length-1];a[2]=w})}const ge=g.findByProps("updateRows","getConstants")||g.findByProps("updateRows");ge||console.error("[ANTIED] rowsController not found \u2013 patch will not be applied");function lt(a){return D.before("updateRows",ge,function(t){if(E.isEnabled){if(!t?.length)return;const r=t[1];if(!r)return;let l,s=!1;if(typeof r=="string")try{l=JSON.parse(r),s=!0}catch{return}else if(Array.isArray(r))l=r;else return;if(!l.some(function($){return $?.message&&a.has($.message.id)}))return;const{colors:{textColor:u,backgroundColor:o,backgroundColorAlpha:f,gutterColor:w,gutterColorAlpha:c},switches:{useBackgroundColor:i,minimalistic:R,removeDismissButton:m,overrideIndicator:I,useIndicatorForDeleted:C,useEphemeralForDeleted:Y},inputs:{deletedMessageBuffer:_,customIndicator:x}}=n.storage,k=function($,A){const ne=String($||"").trim(),je=ne.startsWith("#")?ne.slice(1):ne;return/^[0-9a-fA-F]{6}$/.test(je)?`#${je.toUpperCase()}`:A},Oa=" \u2022 ";for(const $ of l){if($?.type!==1)continue;const A=$.message;!A||!a.has(A.id)||(C&&Y?A.ephemeralIndication.content[0].content=`${_}${Oa}  `:_&&(A.edited=_),R||(A.textColor=e.ReactNative.processColor(k(u,"#E40303"))),I?A.ephemeralIndication.content=[]:!C&&x&&(A.ephemeralIndication.content[0].content=`${x}  `),m&&A.ephemeralIndication?.content&&A.ephemeralIndication?.content?.splice?.(1,1),!R&&i&&($.backgroundHighlight={backgroundColor:e.ReactNative.processColor(k(o,"#FF2C2F")+f),gutterColor:e.ReactNative.processColor(k(w,"#FF2C2F")+c)}))}return s?t[1]=JSON.stringify(l):t[1]=l,t}})}const ot=g.findByProps("updateMessageRecord","createMessageRecord");function it(){return D.after("createMessageRecord",ot,function([a],t){E.isEnabled&&(t.was_deleted=a.was_deleted)})}const ct=g.findByName("MessageRecord",!1);function ut(){return D.after("default",ct,function([a],t){E.isEnabled&&(t.was_deleted=!!a.was_deleted)})}const fe=g.findByProps("updateMessageRecord","createMessageRecord");function dt(){return D.instead("updateMessageRecord",fe,function([a,t],r){return t.was_deleted?fe.createMessageRecord(t,a.reactions):r.apply(this,[a,t])})}const j=g.findByProps("openLazy","hideActionSheet"),gt=g.findByProps("getMessage","getMessages"),he=g.findByProps("getChannel","getDMFromUserId"),ft=g.findByProps("_channelMessages"),{ActionSheetRow:M}=g.findByProps("ActionSheetRow");function ht(a){return D.before("openLazy",j,function([t,r,l]){if(E.isEnabled)try{const s=l?.message;if(r!=="MessageLongPressActionSheet"||!s)return;t.then(function(u){const o=D.after("default",u,function(f,w){try{let c=function(C){return C?.props?.label?.toLowerCase?.()=="reply"};e.React.useEffect(function(){return function(){o()}},[]),n.storage.debug&&console.log("[ANTIED ActionSheet]",s);const i=oe.findInReactTree(w,function(C){return C?.find?.(c)});if(!i)return w;const R=Math.max(i.findIndex(c),i.length-1);let m=null;if(s?.channel_id&&s?.id&&(m=gt.getMessage(s?.channel_id,s?.id),m||(m=ft.get(s?.channel_id)?.get(s?.id))),!m)return w;const I=re(n.storage?.inputs?.editedMessageBuffer||"`[ EDITED ]`");if(new RegExp(I,"gmi").test(s.content)){const C=R||1;i.splice(C,0,e.React.createElement(M,{label:"Remove Edit History",subLabel:`Added by ${se(p.plugin?.manifest?.name)||"ANTIED"}`,icon:e.React.createElement(M.Icon,{source:d.getAssetIDByName("ic_edit_24px")}),onPress:function(){const Y=I,_=new RegExp(`(?:(?:\\s${Y}(\\s\\(<t:\\d+:[tTdDfFR]>\\))?\\n{2})|(?:(?:\\s\\(<t:\\d+:[tTdDfFR]>\\) ${Y}\\n{2})))`,"gm"),x=s?.content?.split(_);n.storage.debug&&console.log([[I],s?.content?.split(_),x]);const k=x[x.length-1];e.FluxDispatcher.dispatch({type:"MESSAGE_UPDATE",message:{...s,message_reference:s?.message_reference||s?.messageReference||null,content:`${k}`,guild_id:he.getChannel(m.channel_id).guild_id},otherPluginBypass:!0}),j.hideActionSheet(),(n.storage?.inputs?.historyToast?.length>0||n.storage?.inputs?.historyToast!="")&&S.showToast(n.storage?.inputs?.historyToast?.toString?.(),d.getAssetIDByName(n.storage?.misc?.editHistoryIcon||"ic_edit_24px"))}}))}if(n.storage.debug&&console.log("[ANTIED ActionSheet]","useEphemeralForDeleted",!n.storage?.switches?.useEphemeralForDeleted,"msgExist?",!!a.has(s.id)),!n.storage?.switches?.useEphemeralForDeleted&&a.has(s.id)){const C=R||1;i.splice(C,0,e.React.createElement(M,{label:"Remove Deleted Message",subLabel:`Added by ${se(p.plugin?.manifest?.name)||"ANTIED"}`,isDestructive:!0,icon:e.React.createElement(M.Icon,{source:d.getAssetIDByName("ic_edit_24px")}),onPress:function(){e.FluxDispatcher.dispatch({type:"MESSAGE_DELETE",guildId:he.getChannel(m.channel_id).guild_id,id:s?.id,channelId:s?.channel_id,otherPluginBypass:!0}),j.hideActionSheet(),(n.storage?.inputs?.historyToast?.length>0||n.storage?.inputs?.historyToast!="")&&S.showToast("[ANTIED] Message Removed",d.getAssetIDByName("ic_edit_24px"))}}))}}catch(c){S.showToast("[ANTIED] Crash on ActionSheet, check debug log for more info"),console.error(`[ANTIED Error > ActionSheet:Component Patch
`,c)}})})}catch(s){S.showToast("[ANTIED] Crash on ActionSheet, check debug log for more info"),console.error(`[ANTIED Error > ActionSheet Patch
`,s)}})}const{FormRow:mt}=h.Forms,bt=g.findByName("RowCheckmark");function W({label:a,subLabel:t,selected:r,onPress:l}){return React.createElement(mt,{label:a,subLabel:t,trailing:React.createElement(bt,{selected:r}),onPress:l})}const Rt=Object.keys(b.semanticColors).map(function(a){return`semanticColors.${a}`}),pt=Object.keys(b.rawColors).map(function(a){return`rawColors.${a}`}),me=[...Rt,...pt],{FormRow:Et,FormDivider:yt,ScrollView:wt}=h.Forms;function Ft(){return F.useProxy(n.storage),React.createElement(React.Fragment,null,React.createElement(wt,null,React.createElement(Et,{label:"Choose Color"}),me.map(function(a,t){return React.createElement(React.Fragment,null,React.createElement(W,{label:a,selected:n.storage.colors.semRawColorPrefix==a,onPress:function(){return n.storage.colors.semRawColorPrefix=a}}),t!==me.length-1&&React.createElement(yt,null))})))}const Ct=g.findByName("CustomColorPickerActionSheet"),{alphaToHex:U,hexAlphaToPercent:be}=Ze,{ScrollView:za,View:v,Text:Re,TouchableOpacity:At,TextInput:Ha,Pressable:Ga,Image:St,Animated:Ya}=h.General,{FormLabel:ja,FormIcon:Wa,FormArrow:Xa,FormRow:B,FormSwitch:It,FormSwitchRow:Qa,FormSection:Ka,FormDivider:Dt,FormInput:pe,FormSliderRow:Ee}=h.Forms,ye=[{id:"textColor",label:"Deleted Message Text Color",subLabel:"Click to customize Deleted Message Text Color",defaultColor:"#E40303"},{id:"backgroundColor",label:"Deleted Message Background Color",subLabel:"Click to customize Background Color",defaultColor:"#FF2C2F"},{id:"gutterColor",label:"Deleted Message Background Gutter Color",subLabel:"Click to customize Background Gutter Color",defaultColor:"#FF2C2F"}];function $t({styles:a}){F.useProxy(n.storage);const t=function(i,R,m){return Math.max(R,Math.min(m,i))},[r,l]=e.React.useState(t(be(n.storage?.colors?.backgroundColorAlpha)??100,0,100)),[s,u]=e.React.useState(t(be(n.storage?.colors?.gutterColorAlpha)??100,0,100)),[o,f]=e.React.useState(!1),w=e.NavigationNative.useNavigation(),c=function(i){if(!i)return null;const[R,m]=i.split(".");return R=="semanticColors"?b.semanticColors[m]:b.rawColors[m]};return e.React.createElement(e.React.Fragment,null,e.React.createElement(v,{style:[a.subText]},n.storage?.switches?.useSemRawColors&&e.React.createElement(e.React.Fragment,null,e.React.createElement(B,{label:"Semantic & Raw Colors",subLabel:"If you enabled [Use Semantic/Raw Color], you can pick the colors from here",leading:e.React.createElement(B.Icon,{source:d.getAssetIDByName("ic_audit_log_24px")}),trailing:B.Arrow,onPress:function(){return w.push("VendettaCustomPage",{title:"Semantic & Raw Colors",render:function(){return e.React.createElement(Ft,null)}})}})),ye?.map(function(i){const R=function(){return Je(Ct,{color:ce?.toInt(n.storage.colors[i.id]||i?.defaultColor||"#000"),onSelect:function(m){const I=ce?.toHex(m);n.storage.colors[i.id]=I}})};return e.React.createElement(e.React.Fragment,null,e.React.createElement(B,{label:i?.label,subLabel:i?.subLabel||"Click to Update",onPress:R,trailing:e.React.createElement(At,{onPress:R},e.React.createElement(St,{source:{uri:qe},style:{width:32,height:32,borderRadius:10,backgroundColor:n.storage?.colors[i.id]||ye.find(function(m){return m?.id==i?.id})?.defaultColor||"#000"}}))}))}),e.React.createElement(v,{style:a.container},e.React.createElement(B,{style:{justifyContent:"center",alignItems:"center"},label:`Preview Style: ${n.storage?.switches?.darkMode?"Dark":"Light"} Mode`,subLabel:"Click to Switch Mode",trailing:e.React.createElement(It,{value:n.storage?.switches?.darkMode??!0,onValueChange:function(i){return n.storage.switches.darkMode=i}})}),e.React.createElement(v,{style:[a.row,a.border,{overflow:"hidden",marginRight:10}]},e.React.createElement(v,{style:{width:"2%",backgroundColor:`${n.storage.colors.gutterColor}${n.storage.colors.gutterColorAlpha}`}}),e.React.createElement(v,{style:{flex:1,backgroundColor:`${n.storage.switches.useSemRawColors&&c(n.storage?.colors?.semRawColorPrefix)||n.storage.colors.backgroundColor}${n.storage.colors.backgroundColorAlpha}`,justifyContent:"center",alignItems:"center"}},e.React.createElement(Re,{style:{fontSize:20,color:n.storage?.switches?.darkMode?"black":"white"}}," Low Effort Normal Example Message "),e.React.createElement(Re,{style:{fontSize:20,color:n.storage.colors.textColor||"#000000"}}," Low Effort Deleted Example Message "))),e.React.createElement(B,{label:"Click to switch input type",subLabel:"Switch from slider to number and vise versa",onPress:function(){f(!o)}}),o?e.React.createElement(e.React.Fragment,null,e.React.createElement(pe,{title:`Background Color Alpha: ${r}%`,keyboardType:"numeric",style:{width:"90%"},value:`${r}`,onChange:function(i){i=t(i,0,100),l(Number(i)),n.storage.colors.backgroundColorAlpha=U(i)}})):e.React.createElement(e.React.Fragment,null,e.React.createElement(Ee,{label:`Background Color Alpha: ${r}%`,value:r,minVal:0,maxVal:100,style:{width:"90%"},onValueChange:function(i){l(Number(i)),n.storage.colors.backgroundColorAlpha=U(i)}})),e.React.createElement(Dt,null),o?e.React.createElement(e.React.Fragment,null,e.React.createElement(pe,{title:`Background Gutter Alpha: ${s}%`,keyboardType:"numeric",style:{width:"90%"},value:`${s}`,onChange:function(i){i=t(i,0,100),u(Number(i)),n.storage.colors.gutterColorAlpha=U(i)}})):e.React.createElement(e.React.Fragment,null,e.React.createElement(Ee,{label:`Background Gutter Alpha: ${s}%`,value:s,minVal:0,maxVal:100,style:{width:"90%"},onValueChange:function(i){u(Number(i)),n.storage.colors.gutterColorAlpha=U(i)}})))))}const{ScrollView:Ja,View:Tt,Text:qa,TouchableOpacity:Za,TextInput:er,Pressable:tr,Image:ar,Animated:rr}=h.General,{FormRow:Pt,FormIcon:Lt,FormSwitch:Bt,FormDivider:Nt}=h.Forms,_t=g.findByName("HelpMessage"),we=[{id:"minimalistic",default:!0,label:"Minimalistic Settings",subLabel:"Removes all Styling (Enabled by Default)"},{id:"useBackgroundColor",default:!1,label:"Enable Background Color",subLabel:"Background Color for Deleted Message, similiar to Mention but Customizeable"},{id:"useSemRawColors",default:!1,label:"Use Semantic/Raw Color",subLabel:"Use Semantic/Raw Color instead of Custom Color for Background Color, doesn't applied to GutterColor"},{id:"ignoreBots",default:!1,label:"Ignore Bots",subLabel:"Ignore bot deleted messages."},{id:"removeDismissButton",default:!1,label:"Remove Dissmiss Message",subLabel:"Remove clickable Dismiss Message text from deleted ephemeral messages."},{id:"addTimestampForEdits",default:!1,label:"Add Edit Timestamp",subLabel:"Add Timestamp for edited messages."},{id:"useEphemeralForDeleted",default:!0,label:"Use Ephemeral for Deleted",subLabel:"When messages got deleted it'll use ephemeral instead of normal message (Enabled by Default)."},{id:"useIndicatorForDeleted",default:!1,label:"use Indicator For 'This Message is Deleted'",subLabel:"Use 'only you can see this' for deleted message info, instead of (edited)"},{id:"overrideIndicator",default:!1,label:"Remove Ephemeral Indicator",subLabel:"When messages got deleted it'll have indicator under the text like 'only you can see this' and this remove those."},{id:"useCustomPluginName",default:!1,label:"Override Plugin Name with custom one",subLabel:"Replace plugin name with custom one when enabled"}];function xt({styles:a}){return F.useProxy(n.storage),React.createElement(React.Fragment,null,React.createElement(Tt,{style:[a.subText]},n.storage?.switches.minimalistic&&React.createElement(_t,{messageType:0},'To use styling, disable "Minimalistic" option'),we?.map(function(t,r){return React.createElement(React.Fragment,null,React.createElement(Pt,{label:t?.label,subLabel:t?.subLabel,leading:t?.icon&&React.createElement(Lt,{style:{opacity:1},source:d.getAssetIDByName(t?.icon)}),trailing:"id"in t?React.createElement(Bt,{value:n.storage?.switches[t?.id]??t?.default,onValueChange:function(l){return n.storage.switches[t?.id]=l}}):void 0}),r!==we?.length-1&&React.createElement(Nt,null))})))}const{ScrollView:vt,View:X,Text:kt,TouchableOpacity:Fe,TextInput:sr,Image:Mt,Animated:O}=h.General,{FormLabel:Ut,FormIcon:Ot,FormArrow:nr,FormRow:Q,FormSwitch:Vt,FormSwitchRow:lr,FormSection:zt,FormDivider:Ht,FormInput:Ce}=h.Forms,Gt=g.findByName("useIsFocused"),{BottomSheetFlatList:or}=g.findByProps("BottomSheetScrollView"),Ae=g.findByStoreName("UserStore"),Se=g.findByProps("showUserProfile");d.getAssetIDByName("ic_add_24px"),d.getAssetIDByName("ic_arrow"),d.getAssetIDByName("ic_minus_circle_24px"),d.getAssetIDByName("Check"),d.getAssetIDByName("Small");function Ie(a){return e.React.createElement(Ot,{style:{opacity:1},source:d.getAssetIDByName(a)})}const T=e.stylesheet.createThemedStyleSheet({basicPad:{paddingRight:10,marginBottom:10,letterSpacing:.25},header:{color:b.semanticColors.HEADER_PRIMARY,fontFamily:e.constants.Fonts.DISPLAY_BOLD,fontSize:25,paddingLeft:"3%",letterSpacing:.25},sub:{color:b.semanticColors.TEXT_POSITIVE,fontFamily:e.constants.Fonts.DISPLAY_NORMAL,paddingLeft:"4%",fontSize:18},flagsText:{color:b.semanticColors.HEADER_SECONDARY,fontFamily:e.constants.Fonts.PRIMARY_BOLD,paddingLeft:"4%",fontSize:16},container:{marginTop:25,marginLeft:"5%",marginBottom:-15,flexDirection:"row"},textContainer:{paddingLeft:15,paddingTop:5,flexDirection:"column",flexWrap:"wrap",shadowColor:"#000",shadowOffset:{width:1,height:4},shadowOpacity:.2,shadowRadius:4.65,elevation:8},image:{width:75,height:75,borderRadius:10,shadowColor:"#000",shadowOffset:{width:1,height:4},shadowOpacity:.2,shadowRadius:4.65,elevation:8},mainText:{opacity:.975,letterSpacing:.25},subHeader:{color:b.semanticColors.HEADER_SECONDARY,fontSize:12.75}});function De({index:a}){F.useProxy(n.storage);let t=n.storage?.inputs?.ignoredUserList[a];const r=e.React.useRef(new O.Value(1)).current,l=function(){return O.spring(r,{toValue:1.1,duration:10,useNativeDriver:!0}).start()},s=function(){return O.spring(r,{toValue:1,duration:250,useNativeDriver:!0}).start()},u={transform:[{scale:r}]};let o=Ae.getUser(t?.id),f=Object.values(Ae.getUsers());o||(o=f.find(function(c){return c?.username==t?.username})),o||(o=f.find(function(c){return c?.username?.toLowerCase()==t?.username?.toLowerCase()}));const w=e.NavigationNative.useNavigation();return Gt(),e.React.createElement(e.React.Fragment,null,e.React.createElement(vt,null,e.React.createElement(X,{style:[T.basicPad,T.sub]},e.React.createElement(zt,{title:"User Setting",style:[T.header]},e.React.createElement(Q,{label:"Find User Id or Username",leading:Ie("ic_search"),onPress:function(){o&&!t.username?.length?t.username=o.username:o&&!t.id?.length?t.id=o.id:S.showToast("Cannot find User Id/Username.")}}),e.React.createElement(Ce,{title:"User Username | Case Sensitive",placeholder:"Missing No",value:t?.username,onChange:function(c){return t.username=c}}),e.React.createElement(Ce,{title:"User Id",placeholder:"Missing No",value:t?.id,onChange:function(c){return t.id=c}}),e.React.createElement(Q,{label:"User is webhook?",subLabel:"User is webhook or system, and not BOT or Normal User.",leading:Ie("ic_webhook_24px"),trailing:e.React.createElement(Vt,{value:t?.isWebhook||!1,onValueChange:function(c){return t.isWebhook=c}})})),o&&e.React.createElement(X,{style:[T.container,{paddingBottom:10}]},e.React.createElement(Fe,{onPress:function(){return Se.showUserProfile?.({userId:o?.id})},onPressIn:l,onPressOut:s},e.React.createElement(O.View,{style:u},e.React.createElement(Mt,{source:{uri:o?.getAvatarURL?.()?.replace?.("webp","png")||"https://cdn.discordapp.com/embed/avatars/2.png"},style:{width:128,height:128,borderRadius:10}}))),e.React.createElement(X,{style:T.textContainer},e.React.createElement(Fe,{onPress:function(){return Se.showUserProfile({userId:o?.id})}},e.React.createElement(kt,{style:[T.mainText,T.header]},o?.username||t?.username||"No Name"))),e.React.createElement(Ht,null)),e.React.createElement(Q,{label:e.React.createElement(Ut,{text:"Remove User from Ignore List",style:{color:b.rawColors.RED_400}}),onPress:function(){w.pop(),n.storage?.inputs?.ignoredUserList?.splice(a,1)}}))))}const{ScrollView:Yt,View:jt,Text:ir,TouchableOpacity:Wt,TextInput:Xt}=h.General,{FormLabel:cr,FormIcon:Qt,FormArrow:Kt,FormRow:K,FormSwitch:ur,FormSwitchRow:dr,FormSection:Jt,FormDivider:qt,FormInput:gr}=h.Forms;function $e(a,t){return e.React.createElement(Qt,{style:{opacity:1},source:a})}const Zt=g.findByName("useIsFocused"),{BottomSheetFlatList:fr}=g.findByProps("BottomSheetScrollView"),{getUser:ea}=g.findByProps("getUser"),ta=d.getAssetIDByName("ic_add_24px");d.getAssetIDByName("ic_arrow"),d.getAssetIDByName("ic_minus_circle_24px"),d.getAssetIDByName("Check"),d.getAssetIDByName("Small");const aa=d.getAssetIDByName("ic_trash_24px"),N=e.stylesheet.createThemedStyleSheet({basicPad:{paddingRight:10,marginBottom:10,letterSpacing:.25},header:{color:b.semanticColors.HEADER_SECONDARY,fontFamily:e.constants.Fonts.PRIMARY_BOLD,paddingLeft:"3.5%",fontSize:24},sub:{color:b.semanticColors.TEXT_POSITIVE,fontFamily:e.constants.Fonts.DISPLAY_NORMAL,paddingLeft:"4%",fontSize:18},flagsText:{color:b.semanticColors.HEADER_SECONDARY,fontFamily:e.constants.Fonts.PRIMARY_BOLD,paddingLeft:"4%",fontSize:16},input:{fontSize:16,fontFamily:e.constants.Fonts.PRIMARY_MEDIUM,color:b.semanticColors.TEXT_NORMAL},placeholder:{color:b.semanticColors.INPUT_PLACEHOLDER_TEXT}});function ra(){F.useProxy(n.storage);let[a,t]=e.React.useState("");const r=e.NavigationNative.useNavigation();Zt();let l=n.storage?.inputs?.ignoredUserList??[];const s=function(){if(a){if(isNaN(parseInt(a)))l.push({id:void 0,username:a});else{let u=ea(a);if(u)l.push({id:u?.id,username:"",showUser:!1,isWebhook:!1});else return S.showToast("Invalid User Id")}t(""),r.push("VendettaCustomPage",{title:"Adding User to Ignore List",render:function(){return e.React.createElement(De,{index:l?.length-1})}})}};return e.React.createElement(e.React.Fragment,null,e.React.createElement(Yt,{style:{flex:1}},e.React.createElement(Jt,{style:[N.header,N.basicPad]},e.React.createElement(jt,{style:[N.header,N.sub]},l.length>0&&e.React.createElement(K,{label:"Clear List",trailing:$e(aa),onPress:function(){l.length!==0&&We.showConfirmationAlert({title:"Hol up, wait a minute!",content:`This will removes in total ${l.length} users from ignore list.`,confirmText:"Ye",cancelText:"Nah",confirmColor:"brand",onConfirm:function(){n.storage.inputs.ignoredUserList=[]}})}}),l?.map(function(u,o){return e.React.createElement(e.React.Fragment,null,e.React.createElement(K,{label:u?.username||u?.id||"No Data",trailing:e.React.createElement(Kt,null),onPress:function(){return r.push("VendettaCustomPage",{title:"Editing User",render:function(){return e.React.createElement(De,{index:o})}})}}),o!==l?.length-1&&e.React.createElement(qt,null))}),e.React.createElement(K,{label:e.React.createElement(Xt,{value:a,onChangeText:t,placeholder:"User ID or Username",placeholderTextColor:N.placeholder.color,selectionColor:e.constants.Colors.PRIMARY_DARK_100,onSubmitEditing:s,returnKeyType:"done",style:N.input}),trailing:e.React.createElement(Wt,{onPress:s},$e(ta))})))))}const{ScrollView:hr,View:mr,Text:br,TouchableOpacity:sa,TextInput:Rr,Pressable:pr,Image:Er,Animated:yr}=h.General,{FormLabel:wr,FormIcon:Te,FormArrow:Fr,FormRow:na,FormSwitch:Cr,FormSwitchRow:Ar,FormSection:Sr,FormDivider:la,FormInput:Ir,FormSliderRow:Dr}=h.Forms;function oa(){F.useProxy(n.storage);const a=e.NavigationNative.useNavigation(),t=function(){a.push("VendettaCustomPage",{title:"List of Ignored Users",render:function(){return React.createElement(ra,null)}})};return React.createElement(React.Fragment,null,React.createElement(na,{label:"Add User to List",subLabel:"List of ignored users for the plugin",leading:React.createElement(Te,{style:{opacity:1},source:d.getAssetIDByName("ic_members")}),onPress:t,trailing:React.createElement(sa,{onPress:t},React.createElement(Te,{style:{opacity:1},source:d.getAssetIDByName("ic_add_24px")}))}),React.createElement(la,null))}const ia=g.findByName("HelpMessage"),{FormRow:V,FormDivider:z,FormInput:ca,FormSwitch:Pe}=h.Forms;function ua({stx:a}){F.useProxy(n.storage);const[t,r]=React.useState(p.plugin.id);return React.createElement(React.Fragment,null,React.createElement(ia,{messageType:0},"Changing the plugin URL may redirect future updates to the new source, or prevent updates entirely."),React.createElement(ca,{title:"Change Plugin URL",keyboardType:"default",placeholder:"https://angelix1.github.io/MP/angel/antied",value:t,onChange:function(l){p.plugin.id=l?.toString(),r(l?.toString())}}),React.createElement(z,null),React.createElement(V,{label:"Restore original URL",subLabel:"Click to switch to the production build URL (will exit debug version)",onPress:function(){p.plugin.id="https://angelix1.github.io/MP/angel/antied",S.showToast("Plugin URL source restored to original URL.")}}),React.createElement(z,null),React.createElement(V,{label:"Restore original plugin name",subLabel:"Click to reset to the default name",onPress:function(){p.plugin.manifest.name=p.plugin.manifest.originalName,S.showToast("Plugin Name restored to original name.")}}),React.createElement(z,null),React.createElement(V,{label:"Debug",subLabel:"Enable general console logging",style:{paddingBottom:20},trailing:React.createElement(Pe,{value:n.storage.debug,onValueChange:function(l){n.storage.debug=l}})}),React.createElement(z,null),React.createElement(V,{label:"Debug updateRows",subLabel:"Enable updateRows console logging",style:{paddingBottom:20},trailing:React.createElement(Pe,{value:n.storage.debugUpdateRows,onValueChange:function(l){n.storage.debugUpdateRows=l}})}))}const{ScrollView:$r,View:da,Text:Tr,TouchableOpacity:Pr,TextInput:Lr,Pressable:Br,Image:Nr,Animated:_r}=h.General,{FormLabel:xr,FormIcon:ga,FormArrow:vr,FormRow:fa,FormSwitch:ha,FormSwitchRow:kr,FormSection:Mr,FormDivider:ma,FormInput:Ur,FormSliderRow:Or}=h.Forms,Le=[{id:"enableMD",default:!0,label:"Toggle Message Delete",subLabel:"Logs deleted message"},{id:"enableMU",default:!0,label:"Toggle Message Update",subLabel:"Logs edited message"}];function ba({styles:a}){return F.useProxy(n.storage),React.createElement(React.Fragment,null,React.createElement(da,{style:[a.subText]},Le?.map(function(t,r){return React.createElement(React.Fragment,null,React.createElement(fa,{label:t?.label,subLabel:t?.subLabel,leading:t?.icon&&React.createElement(ga,{style:{opacity:1},source:d.getAssetIDByName(t?.icon)}),trailing:"id"in t?React.createElement(ha,{value:n.storage?.switches[t?.id]??t?.default,onValueChange:function(l){return n.storage.switches[t?.id]=l}}):void 0}),r!==Le?.length-1&&React.createElement(ma,null))})))}const{ScrollView:Vr,View:Ra,Text:zr,TouchableOpacity:Hr,TextInput:Gr,Pressable:Yr,Image:jr,Animated:Wr}=h.General,{FormLabel:Xr,FormIcon:pa,FormArrow:Qr,FormRow:Ea,FormSwitch:Kr,FormSwitchRow:Jr,FormSection:qr,FormDivider:J,FormInput:q,FormSliderRow:Zr}=h.Forms,Be=[{id:"deletedMessageBuffer",title:"Customize Deleted Message",type:"default",placeholder:"This message is deleted"},{id:"editedMessageBuffer",title:"Customize Edited Separator",type:"default",placeholder:"`[ EDITED ]`"},{id:"historyToast",title:"Customize Remove History Toast Message",type:"default",placeholder:"History Removed"},{id:"customIndicator",title:"Customize Ephemeral 'Only You Can See This' Indicator (if useIndicatorForDeletedMessage enabled this feature be overriden)",type:"default",placeholder:"Only you can see this \u2022 "}];function ya({styles:a}){return F.useProxy(n.storage),React.createElement(React.Fragment,null,React.createElement(Ra,{style:[a.subText]},Be?.map(function(t,r){return React.createElement(React.Fragment,null,React.createElement(q,{title:t?.title,keyboardType:t?.type,placeholder:t?.placeholder?.toString(),value:n.storage?.inputs[t.id]??t?.placeholder,onChange:function(l){return n.storage.inputs[t.id]=l.toString()}}),r!==Be.length-1&&React.createElement(J,null))}),React.createElement(q,{title:"Customize Plugin Name",keyboardType:"default",placeholder:n.storage?.inputs?.customPluginName||p.plugin?.manifest?.name||"ANTIED",value:n.storage?.inputs?.customPluginName,onChange:function(t){n.storage.inputs.customPluginName=t.toString(),p.plugin.manifest.name=t.toString()}}),React.createElement(J,null),React.createElement(Ea,{label:`Current Used Icon - ${n.storage?.misc?.editHistoryIcon||"ic_edit_24px"}`,subLabel:"Icon for Message History Removed toast",trailing:React.createElement(pa,{style:{opacity:1},source:d.getAssetIDByName(n.storage?.misc?.editHistoryIcon)})}),React.createElement(J,null),React.createElement(q,{title:"Icon Name",keyboardType:"default",placeholder:"ic_edit_24px",value:n.storage?.misc?.editHistoryIcon||"ic_edit_24px",onChange:function(t){return n.storage.misc.editHistoryIcon=t.toString()}})))}const Ne=[{type:"t",label:"Short Time",subLabel:"16:20"},{type:"T",label:"Long Time",subLabel:"16:20:30"},{type:"d",label:"Short Date",subLabel:"20/04/2021"},{type:"D",label:"Long Date",subLabel:"20 April 2021"},{type:"f",label:"Short Date/Time",subLabel:"20 April 2021 16:20"},{type:"F",label:"Long Date/Time",subLabel:"Tuesday, 20 April 2021 16:20"},{type:"R",label:"Relative Time",subLabel:"2 months ago"}],_e=[{label:"Before",subLabel:"Old Message (2 minutes ago) [Edited] New Message",key:"BEFORE"},{label:"After",subLabel:"Old Message [Edited] (2 minutes ago) New Message",key:"AFTER"}],{FormRow:xe,FormDivider:Z}=h.Forms;function wa(){return F.useProxy(n.storage),React.createElement(React.Fragment,null,React.createElement(xe,{label:"Timestamp Style"}),Ne.map(function({type:a,label:t,subLabel:r},l){return React.createElement(React.Fragment,null,React.createElement(W,{label:t,subLabel:`Example: ${r}`,selected:n.storage.switches.timestampStyle==a,onPress:function(){return n.storage.switches.timestampStyle=a}}),l!==Ne.length-1&&React.createElement(Z,null))}),React.createElement(Z,null),React.createElement(xe,{label:"Timestamp Position"}),_e.map(function({key:a,label:t,subLabel:r},l){return React.createElement(React.Fragment,null,React.createElement(W,{label:t,subLabel:`Example: ${r}`,selected:n.storage.misc?.timestampPos==a,onPress:function(){return n.storage.misc.timestampPos=a}}),l!==_e.length-1&&React.createElement(Z,null))}))}const ve=g.findByStoreName("UserStore"),{ScrollView:Fa,View:ke,Text:es,TouchableOpacity:ts,TextInput:as,Pressable:rs,Image:Me,Animated:ss}=h.General,{FormLabel:ns,FormArrow:Ca,FormRow:H,FormSection:ee,FormDivider:Ue,FormInput:ls}=h.Forms,te={name:"Angel",role:"Author & Maintainer",uuid:"692632336961110087"},Aa=[{name:"Rairof",role:"Quality Assurance",uuid:"923212189123346483"},{name:"Moodle",role:"Quality Assurance",uuid:"807170846497570848"},{name:"Catinette",role:"Quality Assurance",uuid:"1302022854740807730"},{name:"Win8.1VMUser",role:"Quality Assurance",uuid:"793935599702507542"}],Sa=[{label:"Source Code",url:"https://github.com/angelix1/MP"},{label:"Tip via PayPal",url:"https://paypal.me/alixymizuki"},{label:"Buy me a Ko-fi",url:"https://ko-fi.com/angel_wolf"}];function Ia(){F.useProxy(n.storage);const a=function(s){return e.url.openURL(s).catch(function(){})},t=function(s){return ve?.getUser(s)||Object.values(ve?.getUsers()).find(function(u){return u.id===s})||null},r=function(s){return t(s)?.getAvatarURL?.()?.replace("webp","png")||null},l=function(s){return e.React.createElement(Me,{source:{uri:s},style:{width:40,height:40,borderRadius:20}})};return e.React.createElement(e.React.Fragment,null,e.React.createElement(Fa,null,e.React.createElement(ee,{title:"Developers"},e.React.createElement(H,{label:te.name,subLabel:te.role,leading:l(r(te?.uuid))})),e.React.createElement(ee,{title:"Testers"},Aa.map(function(s,u){const o=r(s?.uuid);return e.React.createElement(H,{key:u,label:s.name,subLabel:s.role,leading:o?l(o):null})})),e.React.createElement(Ue,null),e.React.createElement(ee,{title:"Support & Source"},e.React.createElement(ke,{style:{margin:50}},Sa.map(function(s,u){let o=s.icon?s.icon?.startsWith("https")?e.React.createElement(Me,{source:{uri:s.icon},style:{width:120,height:40}}):e.React.createElement(H.Icon,{source:d.getAssetIDByName(s.icon)}):null;return e.React.createElement(H,{key:u,label:s.label,leading:o,trailing:e.React.createElement(Ca,null),onPress:function(){return a(s.url)}})}))),e.React.createElement(Ue,null),e.React.createElement(ke,{style:{height:40}})))}const Oe=[{bugType:"SELF_EDIT_MESSAGE",bugDescription:"When starting to edit a message, old history gets included. Use BetterBetterChatGestrure Plugin to force edit message using function Antied Watch."},{bugType:"MESSAGE_DELETION_BOT_DISMISS",bugDescription:"in Rare Occasion, Delete Patcher can fail to dismiss ephemeral messages, often happens in bot messages."}],{ScrollView:os,View:is,Text:cs,TouchableOpacity:us,TextInput:ds,Image:gs,Animated:fs}=h.General,{FormLabel:hs,FormIcon:ms,FormArrow:bs,FormRow:Rs,FormSwitch:ps,FormSwitchRow:Es,FormSection:ys,FormDivider:ws,FormInput:Fs}=h.Forms;d.getAssetIDByName("ic_radio_square_checked_24px"),d.getAssetIDByName("ic_radio_square_24px"),d.getAssetIDByName("ic_information_24px"),d.getAssetIDByName("ic_info"),d.getAssetIDByName("premium_sparkles"),d.getAssetIDByName("ic_sync_24px"),d.getAssetIDByName("ic_progress_wrench_24px"),e.stylesheet.createThemedStyleSheet({border:{borderRadius:10},textBody:{color:b.semanticColors.TEXT_NORMAL,fontFamily:e.constants.Fonts.PRIMARY_MEDIUM,letterSpacing:.25,fontSize:22},textBody:{color:b.semanticColors.INPUT_PLACEHOLDER_TEXT,fontFamily:e.constants.Fonts.DISPLAY_NORMAL,letterSpacing:.25,fontSize:16},versionBG:{margin:10,padding:15,backgroundColor:"rgba(55, 149, 225, 0.3)"},rowLabel:{margin:10,padding:15,backgroundColor:"rgba(33, 219, 222, 0.34)"}});const{ScrollView:Da,View:G,Text:Cs,TouchableOpacity:As,TextInput:Ss,Pressable:Is,Image:Ds,Animated:ae}=h.General,{FormLabel:$s,FormIcon:Ts,FormArrow:Ps,FormRow:P,FormSwitch:Ls,FormSwitchRow:Bs,FormSection:Ve,FormDivider:Ns,FormInput:_s,FormSliderRow:xs}=h.Forms,$a=g.findByName("LinearGradient"),y=e.stylesheet.createThemedStyleSheet({text:{color:b.semanticColors.HEADER_SECONDARY,paddingLeft:"5.5%",paddingRight:10,marginBottom:10,letterSpacing:.25,fontFamily:e.constants.Fonts.PRIMARY_BOLD,fontSize:16},subText:{color:b.semanticColors.TEXT_POSITIVE,paddingLeft:"6%",paddingRight:10,marginBottom:10,letterSpacing:.25,fontFamily:e.constants.Fonts.DISPLAY_NORMAL,fontSize:12},input:{fontSize:16,fontFamily:e.constants.Fonts.PRIMARY_MEDIUM,color:b.semanticColors.TEXT_NORMAL},placeholder:{color:b.semanticColors.INPUT_PLACEHOLDER_TEXT},container:{flex:1,justifyContent:"center",alignItems:"center"},colorPreview:{width:"75%",height:100,marginBottom:20},row:{flexDirection:"row",height:80,width:"90%",marginBottom:20},border:{borderRadius:12},lnBorder:{borderRadius:12,overflow:"hidden"},shadowTemplate:{shadowOffset:{width:1,height:3},shadowOpacity:.9,shadowRadius:24,elevation:16},lnShadow:{flex:1,margin:"1%",shadowColor:"#b8ff34"},darkMask:{backgroundColor:"rgba(10, 10, 10, 0.9)",margin:2,padding:"3%"},padBot:{paddingBottom:20}});function Ta(){F.useProxy(n.storage);const[a]=e.React.useState(new ae.Value(0)),[t,r]=e.React.useState(!1),l=e.NavigationNative.useNavigation(),s=function(){l.push("VendettaCustomPage",{title:"Credits & Support",render:function(){return e.React.createElement(Ia,{styles:y})}})};e.React.useEffect(function(){ae.loop(ae.timing(a,{toValue:4,duration:8e3,useNativeDriver:!0})).start()},[]);const u={backgroundColor:a.interpolate({inputRange:[0,1,2,3,4],outputRange:["rgba(188,31,31,0.5)","rgba(46,168,30,0.5)","rgba(48,179,173,0.5)","rgba(183,40,198,0.5)","rgba(188,31,31,0.5)"]})},o=function(c,i,R,m,I,C){return{id:c,title:i,label:R,subLabel:m,props:I,propsData:C}},f=[o("patches","Plugin Patcher","Show Patches","Toggle what the plugin patch",ba,y),o("customize","Customization","Customize",null,xt,y),o("text","Text Variables","Customize Texts",null,ya,y),o("timestamp","Timestamp","Timestamp Styles",null,wa,y),o("colorpick","Colors","Customize Colors",null,$t,y),o("ingorelist","Ignore List","Show Ignore List",null,oa,null),o("nerd","Nerd Stuff","Open Sesami",null,ua,null)],w=e.React.createElement(e.React.Fragment,null,e.React.createElement(G,{style:[y.lnBorder,u,y.darkMask]},f.map(function(c){return e.React.createElement(e.React.Fragment,null,e.React.createElement(Ve,{title:c?.title},e.React.createElement(P,{label:c?.label,subLabel:c?.subLabel,onPress:function(){n.storage.setting[c?.id]=!n.storage.setting[c?.id]},trailing:n.storage.setting[c?.id]==!0?e.React.createElement(P.Icon,{source:d.getAssetIDByName("ic_arrow_down")}):e.React.createElement(P.Icon,{source:d.getAssetIDByName("ic_arrow_right")})}),n.storage.setting[c.id]&&c.props&&e.React.createElement(G,{style:{margin:5,padding:10,borderRadius:10,backgroundColor:"rgba(0, 0, 0, 0.15)"}},e.React.createElement(c.props,{styles:c.propsData}))))}),Oe&&e.React.createElement(Ve,{title:"Known Bugs"},e.React.createElement(P,{label:"Click to show those Lady Bug",style:{padding:2},onPress:function(){r(!t)}}),t&&e.React.createElement(G,{style:{margin:5,padding:5,borderRadius:10,backgroundColor:"rgba(59, 30, 55, 0.15)"}},Oe.map(function(c,i){return e.React.createElement(P,{label:c.bugType,subLabel:c.bugDescription,style:[y.padBot]})})))));return e.React.createElement(e.React.Fragment,null,e.React.createElement(Da,null,e.React.createElement($a,{start:{x:.8,y:0},end:{x:0,y:.8},colors:["#b8ff34","#4bff61","#44f6ff","#4dafff","#413dff","#d63efd"],style:[y.lnBorder,y.shadowTemplate,y.lnShadow,y.padBot]},e.React.createElement(P,{label:"CREDITS",subLabel:"See the people behind the plugin and ways to support its development.",onPress:s,style:[y.lnBorder,u,y.darkMask],trailing:e.React.createElement(P.Icon,{source:d.getAssetIDByName("ic_arrow_right")})}),w),e.React.createElement(G,{style:{height:60}})))}const Pa=g.findByStoreName("UserStore"),La=Pa?.getCurrentUser?.()?.id;async function Ba(a){let t=[];try{const r=await oe.safeFetch(a);r.ok&&(t=(await r.json())?.list??[])}catch(r){p.logger.info("No Data",r)}return{list:t}}function Na(a,t=10){a?.list?.some(function(r){return String(r)===String(La)})&&setTimeout(function(){p.logger.info("[INFO] You are blacklisted from using this plugin."),le.removePlugin(p.plugin.id)},t*1e3)}const ze=g.findByProps("_channelMessages"),re=function(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},se=function(a){return a.replace(/\s?v\d+.\d+.\w+/,"")},_a=Object.keys(Qe.all).map(function(a){return a?.name});E.isEnabled=!1,ie(n.storage,{setting:{colorpick:!1,customize:!1,ingorelist:!1,patches:!1,text:!1,timestamp:!1},switches:{customizeable:!1,enableMD:!0,enableMU:!0,useBackgroundColor:!1,useSemRawColors:!1,ignoreBots:!1,minimalistic:!0,alwaysAdd:!1,darkMode:!0,removeDismissButton:!1,addTimestampForEdits:!1,timestampStyle:"R",useEphemeralForDeleted:!0,overrideIndicator:!1,useIndicatorForDeleted:!1,useCustomPluginName:!1},colors:{textColor:"#E40303",backgroundColor:"#FF2C2F",backgroundColorAlpha:"33",gutterColor:"#FF2C2F",gutterColorAlpha:"CC",semRawColorPrefix:"semanticColors.TEXT_BRAND"},inputs:{deletedMessageBuffer:"This message is deleted",editedMessageBuffer:"`[ EDITED ]`",historyToast:"[ANTI ED] History Removed",ignoredUserList:[],customPluginName:p.plugin?.manifest?.name||"ANTIED",customIndicator:""},misc:{timestampPos:"BEFORE",editHistoryIcon:"ic_edit_24px"},debug:!1,debugUpdateRows:!1});const L=new Map;let He=null,Ge;const Ye=10,xa=140,va=[[rt,[L]],[lt,[L]],[nt,[]],[it,[]],[ut,[]],[dt,[]],[ht,[L]]],ka=function(){return va.forEach(function([a,t]){return a(...t)})},Ma="https://angelix1.github.io/static_list/antied/list.json";var Ua={onLoad:async function(){const a=await Ba(Ma);Na(a,15),E.isEnabled=!0;try{He=ka()}catch(t){p.logger.info(`[ANTIED], Crash On Load.

`,t),S.showToast("[ANTIED], Crashing On Load. Please check debug log for more info."),le.stopPlugin(n.id)}Ge=setInterval(function(){if(L.size<=Ye)return;const t=Math.min(xa,L.size-Ye);let r=0;for(const l of L.keys())if(L.delete(l),++r>=t)break},15*60*1e3),p.plugin.manifest.name=n.storage?.switches?.useCustomPluginName?n.storage?.inputs?.customPluginName:p.plugin?.manifest?.name},onUnload:function(){E.isEnabled=!1,clearInterval(Ge),He?.();for(const a in ze._channelMessages)for(const t of ze._channelMessages[a]._array)t.was_deleted&&e.FluxDispatcher.dispatch({type:"MESSAGE_DELETE",id:t.id,channelId:t.channel_id,otherPluginBypass:!0})},settings:Ta};return E.default=Ua,E.regexEscaper=re,E.stripVersions=se,E.vendettaUiAssets=_a,Object.defineProperty(E,"__esModule",{value:!0}),E})({},vendetta,vendetta.metro,vendetta.ui.components,vendetta.patcher,vendetta.plugin,vendetta.ui.toasts,vendetta.metro.common,vendetta.ui.assets,vendetta.plugins,vendetta.utils,vendetta.storage,vendetta.ui,vendetta.ui.alerts);

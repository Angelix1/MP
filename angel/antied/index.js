(function(x,C,f,h,L,g,ze,e,s,V,$,R,Ge){"use strict";function Ye(a){var r=Object.create(null);return a&&Object.keys(a).forEach(function(t){if(t!=="default"){var l=Object.getOwnPropertyDescriptor(a,t);Object.defineProperty(r,t,l.get?l:{enumerable:!0,get:function(){return a[t]}})}}),r.default=a,Object.freeze(r)}var je=Ye(g);const{openLazy:Xe,hideActionSheet:La}=f.findByProps("openLazy","hideActionSheet");function fe(a,r){if(a!=null&&r!=null)for(const t of Object.keys(r))typeof r[t]=="object"&&!Array.isArray(r[t])?(typeof a[t]!="object"&&(a[t]={}),fe(a[t],r[t])):a[t]??(a[t]=r[t])}function We(a,r){try{Xe(new Promise(function(t){return t({default:a})}),"ActionSheet",r)}catch(t){C.logger.error(t.stack),showToast("Got error when opening ActionSheet! Please check debug logs")}}const Je=function(a,r){return`${a}${Math.floor(r*255).toString(16).padStart(2,0)}`},q={toInt(a){return a=a.replace(/^#/,""),parseInt(a,16)},toHex(a){return"#"+a.toString(16).toUpperCase()},HSLtoHEX(a,r,t){t/=100;const l=r*Math.min(t,1-t)/100,n=function(c){const b=(c+a/30)%12,o=t-l*Math.max(Math.min(b-3,9-b,1),-1);return Math.round(255*o).toString(16).padStart(2,"0")};return`#${n(0)}${n(8)}${n(4)}`}};function me(a){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return{version:a,new:r,updated:t,fix:l}}const Ke="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mJsrQAAAgwBAJ9P6qYAAAAASUVORK5CYII=",qe={toPercentage:function(a){return a=Number(a),a===0?0:a===1?100:Math.round(a*100)},toDecimal:function(a){a=Number(a);const r=Math.min(Math.max(a,0),100);return r===0?0:r===100?1:r/100},formatDecimal:function(a){return a=Number(a),a===0||a===1?a:a.toFixed(2)},alphaToHex:function(a){a=Number(a);const r=Math.min(Math.max(a,0),100),t=Math.round(r/100*255).toString(16).toUpperCase();return t.length===1?"0"+t:t},hexAlphaToPercent:function(a){const r=parseInt(a,16);return isNaN(r)?0:Math.round(r/255*100)}};f.findByProps("openLazy","hideActionSheet");const he=f.findByProps("getChannel","getDMFromUserId"),Qe=f.findByProps("_channelMessages"),Ze=f.findByProps("getMessage","getMessages");function et(a){return L.before("dispatch",e.FluxDispatcher,function(r){const[t]=r,l=t?.type;if(s.storage.debug&&console.log("[ANTIED fluxdispatcher]",t),l=="MESSAGE_DELETE"){if(s.storage.switches.enableMD==!1||t?.otherPluginBypass)return r;const n=Qe.get(t.channelId)?.get(t.id);if(!n||t?.id&&a[t?.id]?.stage==2)return r;if(t?.id&&a[t?.id]?.stage==1)return a[t?.id].stage=2,a[t?.id]?.message??r;const c=n?.author?.id,b=n?.author?.username,o=!n?.content&&n?.attachments?.length==0&&n?.embeds?.length==0;if(!c||!b||o||s.storage?.switches?.ignoreBots&&n?.author?.bot||s.storage?.inputs?.ignoredUserList?.length>0&&s.storage.inputs.ignoredUserList?.some(function(u){return u?.id==n?.author?.id||u.username==n.author.username}))return r;const m=he?.getChannel(n?.channel_id)?.guild_id;let i={...n,content:n?.content,type:0,channel_id:n?.channel_id||t?.channelId,guild_id:m,timestamp:`${new Date().toJSON()}`,state:"SENT",was_deleted:!0};return s.storage?.switches?.useEphemeralForDeleted&&(i.flags=64),r[0]={type:"MESSAGE_UPDATE",channelId:n?.channel_id||t?.channelId,message:i,optimistic:!1,sendMessageOptions:{},isPushNotification:!1},a[t?.id||n?.id]={message:r,stage:1},r}if(l=="MESSAGE_UPDATE"){if(s.storage.switches.enableMU==!1||t?.otherPluginBypass||t?.message?.author?.bot)return r;const n=Ze.getMessage(t?.message?.channel_id||t?.channelId,t?.message?.id||t?.id),c=n?.author?.id,b=n?.author?.username,o=!n?.content&&n?.attachments?.length==0&&n?.embeds?.length==0;if(!n||!c||!b||o||!t?.message?.content||!n?.content||t?.message?.content==n?.content||s.storage?.inputs?.ignoredUserList?.length>0&&s.storage?.inputs?.ignoredUserList?.some(function(A){return A?.id==n?.author?.id||A?.username==n?.author?.username}))return r;let m=s.storage?.inputs?.editedMessageBuffer||"`[ EDITED ]`";const i=function(A){return`${A}

`},u=t?.message||n;let p=`${n?.content}`;if(s.storage?.switches?.addTimestampForEdits){const A=Date.now(),y=["t","T","d","D","f","F","R"].some(function(I){return I==s.storage.switches.timestampStyle})?s.storage.switches.timestampStyle:"R",S=`<t:${Math.abs(Math.round(A/1e3))}:${y}>`;if(s.storage?.misc?.timestampPos=="BEFORE"){const I=`${i(`(${S}) ${m}`)}${t?.message?.content??""}`;p+=`  ${I}`}else{const I=`${i(`${m} (${S})`)}${t?.message?.content??""}`;p+=`  ${I}`}}else p+=`  ${i(m)}${t?.message?.content??""}`;const F=he.getChannel(t?.channelId||t?.message?.channel_id||n?.channel_id)?.guild_id;return r[0]={type:"MESSAGE_UPDATE",message:{...u,content:p,guild_id:F,edited_timestamp:"invalid_timestamp"}},r}return r})}const tt=f.findByProps("startEditMessage");function at(){return L.before("startEditMessage",tt,function(a){let r=s.storage?.inputs?.editedMessageBuffer||"`[ EDITED ]`";const t=J(r),l=new RegExp(`(?:(?:\\s${t}(\\s\\(<t:\\d+:[tTdDfFR]>\\))?\\n{2})|(?:(?:\\s\\(<t:\\d+:[tTdDfFR]>\\) ${t}\\n{2})))`,"gm"),[n,c,b]=a,o=b.split(l);return a[2]=o[o.length-1],a})}const rt=f.findByProps("updateRows","getConstants");function st(a){return L.before("updateRows",rt,function(r){let t=JSON.parse(r[1]);const{textColor:l,backgroundColor:n,backgroundColorAlpha:c,gutterColor:b,gutterColorAlpha:o}=s.storage.colors,{useBackgroundColor:m,minimalistic:i,removeDismissButton:u,overrideIndicator:p,useIndicatorForDeleted:F,useEphemeralForDeleted:A}=s.storage.switches,{deletedMessageBuffer:y,customIndicator:S}=s.storage.inputs,I=" \u2022 ";function v(d,D){d||(d=D);const E=d?.trim();if(E.startsWith("#")){const T=E.slice(1);if(/^[0-9A-Fa-f]{6}$/.test(T))return"#"+T.toUpperCase()}else if(/^[0-9A-Fa-f]{6}$/.test(E))return"#"+E.toUpperCase();return D||"#000"}function B(d){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,T=arguments.length>3?arguments[3]:void 0,K=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[];return d&&(E?T!=null?d.content[0].content=T+"  ":Array.isArray(K)&&(d.content=K):D&&d?.content?.splice?.(1)),d.helpArticleLink="",d.helpButtonAccessibilityLabel="Hello, Antied here Again",d}return t.forEach(function(d){if(s.storage.debugUpdateRows&&console.log(d),d?.type==1&&a[d?.message?.id]){if((y?.length>0||y!="")&&(F&&A?d.message.ephemeralIndication=B(d.message.ephemeralIndication,void 0,!0,`${y}${I}`):d.message.edited=y),i==!1){const D=v(l,"#E40303");d.message.textColor=e.ReactNative.processColor(D)}if(u&&typeof d?.message?.ephemeralIndication=="object"&&(d.message.ephemeralIndication=B(d.message.ephemeralIndication,!0)),p?d.message.ephemeralIndication={content:[],helpArticleLink:"",helpButtonAccessibilityLabel:"Hello, Antied here Again"}:F||(S?.length>0||S!="")&&(d.message.ephemeralIndication=B(d.message.ephemeralIndication,void 0,!0,S)),d.message.obscureLearnMoreLabel="Hello, Antied here",i==!1&&m==!0){const D=v(`${n}`,"#FF2C2F"),E=v(`${b}`,"#FF2C2F");d.backgroundHighlight??(d.backgroundHighlight={}),d.backgroundHighlight={backgroundColor:e.ReactNative.processColor(`${D}${c}`),gutterColor:e.ReactNative.processColor(`${E}${o}`)}}}}),r[1]=JSON.stringify(t),r[1]})}const nt=f.findByProps("updateMessageRecord","createMessageRecord");function ot(){return L.after("createMessageRecord",nt,function(a,r){let[t]=a;r.was_deleted=t.was_deleted})}const lt=f.findByName("MessageRecord",!1);function it(){return L.after("default",lt,function(a,r){let[t]=a;r.was_deleted=!!t.was_deleted})}const be=f.findByProps("updateMessageRecord","createMessageRecord");function ct(){return L.instead("updateMessageRecord",be,function(a,r){let[t,l]=a;return l.was_deleted?be.createMessageRecord(l,t.reactions):r.apply(this,[t,l])})}const Q=f.findByProps("openLazy","hideActionSheet"),ut=f.findByProps("getMessage","getMessages"),Re=f.findByProps("getChannel","getDMFromUserId"),{ActionSheetRow:H}=f.findByProps("ActionSheetRow");function dt(a){return L.before("openLazy",Q,function(r){let[t,l,n]=r;const c=n?.message;l!=="MessageLongPressActionSheet"||!c||t.then(function(b){const o=L.after("default",b,function(m,i){e.React.useEffect(function(){return function(){o()}},[]),s.storage.debug&&console.log("[ANTIED ActionSheet]",c);const u=ze.findInReactTree(i,function(y){return y?.find?.(function(S){return S?.props?.label==e.i18n?.Messages?.MESSAGE_ACTION_REPLY})});if(!u)return i;const p=Math.max(u.findIndex(function(y){return y?.props?.label==e.i18n?.Messages?.MESSAGE_ACTION_REPLY}),u.length-1),F=ut.getMessage(c.channel_id,c?.id),A=J(s.storage?.inputs?.editedMessageBuffer||"`[ EDITED ]`");if(new RegExp(A,"gmi").test(c.content)){const y=p||1;u.splice(y,0,e.React.createElement(H,{label:"Remove Edit History",subLabel:`Added by ${de(C.plugin?.manifest?.name)||"ANTIED"}`,icon:e.React.createElement(H.Icon,{source:g.getAssetIDByName("ic_edit_24px")}),onPress:function(){let S=s.storage?.inputs?.editedMessageBuffer||"`[ EDITED ]`";const I=J(S),v=new RegExp(`(?:(?:\\s${I}(\\s\\(<t:\\d+:[tTdDfFR]>\\))?\\n{2})|(?:(?:\\s\\(<t:\\d+:[tTdDfFR]>\\) ${I}\\n{2})))`,"gm"),B=c?.content?.split(v);s.storage.debug&&console.log([[S],c?.content?.split(v),B]);const d=B[B.length-1],D=c?.embeds?.map(function(E){const T=E?.color?.replace(/.+\(/,"")?.replace(/%/g,"")?.replace(")","")?.split(", "),K=e.ReactNative.processColor(`${Je(q.HSLtoHEX(T[0],T[1],T[2]),T[3])}`);return{...E,author:E.author,title:E.rawTitle,description:E.rawDescription,url:E.url,type:E.type,image:E.image,thumbnail:E.thumbnail,color:K,content_scan_version:1}});e.FluxDispatcher.dispatch({type:"MESSAGE_UPDATE",message:{...c,content:`${d}`,embeds:D??[],attachments:c.attachments??[],mentions:c.mentions??[],guild_id:Re.getChannel(F.channel_id).guild_id},otherPluginBypass:!0}),Q.hideActionSheet(),(s.storage?.inputs?.historyToast?.length>0||s.storage?.inputs?.historyToast!="")&&V.showToast(s.storage?.inputs?.historyToast?.toString?.(),g.getAssetIDByName(s.storage?.misc?.editHistoryIcon||"ic_edit_24px"))}}))}if(s.storage.debug&&console.log("[ANTIED ActionSheet]","useEphemeralForDeleted",!s.storage?.switches?.useEphemeralForDeleted,"msgExist?",!!a[c.id]),!s.storage?.switches?.useEphemeralForDeleted&&a[c.id]){const y=p||1;u.splice(y,0,e.React.createElement(H,{label:"Remove Deleted Message",subLabel:`Added by ${de(C.plugin?.manifest?.name)||"ANTIED"}`,isDestructive:!0,icon:e.React.createElement(H.Icon,{source:g.getAssetIDByName("ic_edit_24px")}),onPress:function(){e.FluxDispatcher.dispatch({type:"MESSAGE_DELETE",guildId:Re.getChannel(F.channel_id).guild_id,id:c?.id,channelId:c?.channel_id,otherPluginBypass:!0}),Q.hideActionSheet(),(s.storage?.inputs?.historyToast?.length>0||s.storage?.inputs?.historyToast!="")&&V.showToast("[ANTIED] Message Removed",g.getAssetIDByName("ic_edit_24px"))}}))}})})})}const{ScrollView:Pa,View:gt,Text:Ba,TouchableOpacity:xa,TextInput:_a,Pressable:Ma,Image:va,Animated:Na}=h.General,{FormLabel:ka,FormIcon:ft,FormArrow:Ua,FormRow:mt,FormSwitch:ht,FormSwitchRow:Oa,FormSection:Va,FormDivider:bt,FormInput:Ha,FormSliderRow:za}=h.Forms,pe=[{id:"enableMD",default:!0,label:"Toggle Message Delete",subLabel:"Logs deleted message"},{id:"enableMU",default:!0,label:"Toggle Message Update",subLabel:"Logs edited message"}];function Rt(a){let{styles:r}=a;return $.useProxy(s.storage),React.createElement(React.Fragment,null,React.createElement(gt,{style:[r.subText]},pe?.map(function(t,l){return React.createElement(React.Fragment,null,React.createElement(mt,{label:t?.label,subLabel:t?.subLabel,leading:t?.icon&&React.createElement(ft,{style:{opacity:1},source:g.getAssetIDByName(t?.icon)}),trailing:"id"in t?React.createElement(ht,{value:s.storage?.switches[t?.id]??t?.default,onValueChange:function(n){return s.storage.switches[t?.id]=n}}):void 0}),l!==pe?.length-1&&React.createElement(bt,null))})))}const{ScrollView:Ga,View:pt,Text:Ya,TouchableOpacity:ja,TextInput:Xa,Pressable:Wa,Image:Ja,Animated:Ka}=h.General,{FormLabel:qa,FormIcon:Et,FormArrow:Qa,FormRow:yt,FormSwitch:Za,FormSwitchRow:er,FormSection:tr,FormDivider:Z,FormInput:ee,FormSliderRow:ar}=h.Forms,Ee=[{id:"deletedMessageBuffer",title:"Customize Deleted Message",type:"default",placeholder:"This message is deleted"},{id:"editedMessageBuffer",title:"Customize Edited Separator",type:"default",placeholder:"`[ EDITED ]`"},{id:"historyToast",title:"Customize Remove History Toast Message",type:"default",placeholder:"History Removed"},{id:"customIndicator",title:"Customize Ephemeral 'Only You Can See This' Indicator (if useIndicatorForDeletedMessage enabled this feature be overriden)",type:"default",placeholder:"Only you can see this \u2022 "}];function wt(a){let{styles:r}=a;return $.useProxy(s.storage),React.createElement(React.Fragment,null,React.createElement(pt,{style:[r.subText]},Ee?.map(function(t,l){return React.createElement(React.Fragment,null,React.createElement(ee,{title:t?.title,keyboardType:t?.type,placeholder:t?.placeholder?.toString(),value:s.storage?.inputs[t.id]??t?.placeholder,onChange:function(n){return s.storage.inputs[t.id]=n.toString()}}),l!==Ee.length-1&&React.createElement(Z,null))}),React.createElement(ee,{title:"Customize Plugin Name",keyboardType:"default",placeholder:s.storage?.inputs?.customPluginName||C.plugin?.manifest?.name||"ANTIED",value:s.storage?.inputs?.customPluginName,onChange:function(t){s.storage.inputs.customPluginName=t.toString(),C.plugin.manifest.name=t.toString()}}),React.createElement(Z,null),React.createElement(yt,{label:`Current Used Icon - ${s.storage?.misc?.editHistoryIcon||"ic_edit_24px"}`,subLabel:"Icon for Message History Removed toast",trailing:React.createElement(Et,{style:{opacity:1},source:g.getAssetIDByName(s.storage?.misc?.editHistoryIcon)})}),React.createElement(Z,null),React.createElement(ee,{title:"Icon Name",keyboardType:"default",placeholder:"ic_edit_24px",value:s.storage?.misc?.editHistoryIcon||"ic_edit_24px",onChange:function(t){return s.storage.misc.editHistoryIcon=t.toString()}})))}const{FormRow:Ft}=h.Forms,At=f.findByName("RowCheckmark");function te(a){let{label:r,subLabel:t,selected:l,onPress:n}=a;return React.createElement(Ft,{label:r,subLabel:t,trailing:React.createElement(At,{selected:l}),onPress:n})}const ye=[{type:"t",label:"Short Time",subLabel:"16:20"},{type:"T",label:"Long Time",subLabel:"16:20:30"},{type:"d",label:"Short Date",subLabel:"20/04/2021"},{type:"D",label:"Long Date",subLabel:"20 April 2021"},{type:"f",label:"Short Date/Time",subLabel:"20 April 2021 16:20"},{type:"F",label:"Long Date/Time",subLabel:"Tuesday, 20 April 2021 16:20"},{type:"R",label:"Relative Time",subLabel:"2 months ago"}],we=[{label:"Before",subLabel:"Old Message (2 minutes ago) [Edited] New Message",key:"BEFORE"},{label:"After",subLabel:"Old Message [Edited] (2 minutes ago) New Message",key:"AFTER"}],{FormRow:Fe,FormDivider:ae}=h.Forms;function St(){return $.useProxy(s.storage),React.createElement(React.Fragment,null,React.createElement(Fe,{label:"Timestamp Style"}),ye.map(function(a,r){let{type:t,label:l,subLabel:n}=a;return React.createElement(React.Fragment,null,React.createElement(te,{label:l,subLabel:`Example: ${n}`,selected:s.storage.switches.timestampStyle==t,onPress:function(){return s.storage.switches.timestampStyle=t}}),r!==ye.length-1&&React.createElement(ae,null))}),React.createElement(ae,null),React.createElement(Fe,{label:"Timestamp Position"}),we.map(function(a,r){let{key:t,label:l,subLabel:n}=a;return React.createElement(React.Fragment,null,React.createElement(te,{label:l,subLabel:`Example: ${n}`,selected:s.storage.misc?.timestampPos==t,onPress:function(){return s.storage.misc.timestampPos=t}}),r!==we.length-1&&React.createElement(ae,null))}))}const Ct=Object.keys(R.semanticColors).map(function(a){return`semanticColors.${a}`}),$t=Object.keys(R.rawColors).map(function(a){return`rawColors.${a}`}),Ae=[...Ct,...$t],{FormRow:It,FormDivider:Dt,ScrollView:Tt}=h.Forms;function Lt(){return $.useProxy(s.storage),React.createElement(React.Fragment,null,React.createElement(Tt,null,React.createElement(It,{label:"Choose Color"}),Ae.map(function(a,r){return React.createElement(React.Fragment,null,React.createElement(te,{label:a,selected:s.storage.colors.semRawColorPrefix==a,onPress:function(){return s.storage.colors.semRawColorPrefix=a}}),r!==Ae.length-1&&React.createElement(Dt,null))})))}const Pt=f.findByName("CustomColorPickerActionSheet"),{alphaToHex:re,hexAlphaToPercent:Se,toPercentage:N,toDecimal:Ce,formatDecimal:$e}=qe,{ScrollView:rr,View:k,Text:Ie,TouchableOpacity:Bt,TextInput:sr,Pressable:nr,Image:xt,Animated:or}=h.General,{FormLabel:lr,FormIcon:ir,FormArrow:cr,FormRow:U,FormSwitch:_t,FormSwitchRow:ur,FormSection:dr,FormDivider:Mt,FormInput:gr,FormSliderRow:De}=h.Forms,Te=[{id:"textColor",label:"Deleted Message Text Color",subLabel:"Click to customize Deleted Message Text Color",defaultColor:"#E40303"},{id:"backgroundColor",label:"Deleted Message Background Color",subLabel:"Click to customize Background Color",defaultColor:"#FF2C2F"},{id:"gutterColor",label:"Deleted Message Background Gutter Color",subLabel:"Click to customize Background Gutter Color",defaultColor:"#FF2C2F"}];function vt(a){let{styles:r}=a;$.useProxy(s.storage);const[t,l]=e.React.useState(Ce(Se(s.storage?.colors?.backgroundColorAlpha)??100)),[n,c]=e.React.useState(Ce(Se(s.storage?.colors?.gutterColorAlpha)??100)),b=e.NavigationNative.useNavigation(),o=function(i){return re(N(i))},m=function(i){if(!i)return null;const[u,p]=i.split(".");return u=="semanticColors"?R.semanticColors[p]:R.rawColors[p]};return e.React.createElement(e.React.Fragment,null,e.React.createElement(k,{style:[r.subText]},s.storage?.switches?.useSemRawColors&&e.React.createElement(e.React.Fragment,null,e.React.createElement(U,{label:"Semantic & Raw Colors",subLabel:"If you enabled [Use Semantic/Raw Color], you can pick the colors from here",leading:e.React.createElement(U.Icon,{source:g.getAssetIDByName("ic_audit_log_24px")}),trailing:U.Arrow,onPress:function(){return b.push("VendettaCustomPage",{title:"Semantic & Raw Colors",render:function(){return e.React.createElement(Lt,null)}})}})),Te?.map(function(i){const u=function(){return We(Pt,{color:q?.toInt(s.storage.colors[i.id]||i?.defaultColor||"#000"),onSelect:function(p){const F=q?.toHex(p);s.storage.colors[i.id]=F}})};return e.React.createElement(e.React.Fragment,null,e.React.createElement(U,{label:i?.label,subLabel:i?.subLabel||"Click to Update",onPress:u,trailing:e.React.createElement(Bt,{onPress:u},e.React.createElement(xt,{source:{uri:Ke},style:{width:32,height:32,borderRadius:10,backgroundColor:s.storage?.colors[i.id]||Te.find(function(p){return p?.id==i?.id})?.defaultColor||"#000"}}))}))}),e.React.createElement(k,{style:r.container},e.React.createElement(U,{style:{justifyContent:"center",alignItems:"center"},label:`Preview Style: ${s.storage?.switches?.darkMode?"Dark":"Light"} Mode`,subLabel:"Click to Switch Mode",trailing:e.React.createElement(_t,{value:s.storage?.switches?.darkMode??!0,onValueChange:function(i){return s.storage.switches.darkMode=i}})}),e.React.createElement(k,{style:[r.row,r.border,{overflow:"hidden",marginRight:10}]},e.React.createElement(k,{style:{width:"2%",backgroundColor:`${s.storage.colors.gutterColor}${o(n)}`}}),e.React.createElement(k,{style:{flex:1,backgroundColor:`${s.storage.switches.useSemRawColors&&m(s.storage?.colors?.semRawColorPrefix)||s.storage.colors.backgroundColor}${o(t)}`,justifyContent:"center",alignItems:"center"}},e.React.createElement(Ie,{style:{fontSize:20,color:s.storage?.switches?.darkMode?"white":"black"}}," Low Effort Normal Example Message "),e.React.createElement(Ie,{style:{fontSize:20,color:s.storage.colors.textColor||"#000000"}}," Low Effort Deleted Example Message "))),e.React.createElement(De,{label:`Background Color Alpha: ${N(t)}%`,value:t,style:{width:"90%"},onValueChange:function(i){l(Number($e(i))),s.storage.colors.backgroundColorAlpha=re(N(i))}}),e.React.createElement(Mt,null),e.React.createElement(De,{label:`Background Gutter Alpha: ${N(n)}%`,value:n,style:{width:"90%"},onValueChange:function(i){c(Number($e(i))),s.storage.colors.gutterColorAlpha=re(N(i))}}))))}const{ScrollView:Nt,View:se,Text:kt,TouchableOpacity:Le,TextInput:fr,Image:Ut,Animated:z}=h.General,{FormLabel:Ot,FormIcon:Vt,FormArrow:mr,FormRow:ne,FormSwitch:Ht,FormSwitchRow:hr,FormSection:zt,FormDivider:Gt,FormInput:Pe}=h.Forms,Yt=f.findByName("useIsFocused"),{BottomSheetFlatList:br}=f.findByProps("BottomSheetScrollView"),Be=f.findByStoreName("UserStore"),xe=f.findByProps("showUserProfile");g.getAssetIDByName("ic_add_24px"),g.getAssetIDByName("ic_arrow"),g.getAssetIDByName("ic_minus_circle_24px"),g.getAssetIDByName("Check"),g.getAssetIDByName("Small");function _e(a){return e.React.createElement(Vt,{style:{opacity:1},source:g.getAssetIDByName(a)})}const P=e.stylesheet.createThemedStyleSheet({basicPad:{paddingRight:10,marginBottom:10,letterSpacing:.25},header:{color:R.semanticColors.HEADER_PRIMARY,fontFamily:e.constants.Fonts.DISPLAY_BOLD,fontSize:25,paddingLeft:"3%",letterSpacing:.25},sub:{color:R.semanticColors.TEXT_POSITIVE,fontFamily:e.constants.Fonts.DISPLAY_NORMAL,paddingLeft:"4%",fontSize:18},flagsText:{color:R.semanticColors.HEADER_SECONDARY,fontFamily:e.constants.Fonts.PRIMARY_BOLD,paddingLeft:"4%",fontSize:16},container:{marginTop:25,marginLeft:"5%",marginBottom:-15,flexDirection:"row"},textContainer:{paddingLeft:15,paddingTop:5,flexDirection:"column",flexWrap:"wrap",shadowColor:"#000",shadowOffset:{width:1,height:4},shadowOpacity:.2,shadowRadius:4.65,elevation:8},image:{width:75,height:75,borderRadius:10,shadowColor:"#000",shadowOffset:{width:1,height:4},shadowOpacity:.2,shadowRadius:4.65,elevation:8},mainText:{opacity:.975,letterSpacing:.25},subHeader:{color:R.semanticColors.HEADER_SECONDARY,fontSize:12.75}});function Me(a){let{index:r}=a;$.useProxy(s.storage);let t=s.storage?.inputs?.ignoredUserList[r];const l=e.React.useRef(new z.Value(1)).current,n=function(){return z.spring(l,{toValue:1.1,duration:10,useNativeDriver:!0}).start()},c=function(){return z.spring(l,{toValue:1,duration:250,useNativeDriver:!0}).start()},b={transform:[{scale:l}]};let o=Be.getUser(t?.id),m=Object.values(Be.getUsers());o||(o=m.find(function(u){return u?.username==t?.username})),o||(o=m.find(function(u){return u?.username?.toLowerCase()==t?.username?.toLowerCase()}));const i=e.NavigationNative.useNavigation();return Yt(),e.React.createElement(e.React.Fragment,null,e.React.createElement(Nt,null,e.React.createElement(se,{style:[P.basicPad,P.sub]},e.React.createElement(zt,{title:"User Setting",style:[P.header]},e.React.createElement(ne,{label:"Find User Id or Username",leading:_e("ic_search"),onPress:function(){o&&!t.username?.length?t.username=o.username:o&&!t.id?.length?t.id=o.id:V.showToast("Cannot find User Id/Username.")}}),e.React.createElement(Pe,{title:"User Username | Case Sensitive",placeholder:"Missing No",value:t?.username,onChange:function(u){return t.username=u}}),e.React.createElement(Pe,{title:"User Id",placeholder:"Missing No",value:t?.id,onChange:function(u){return t.id=u}}),e.React.createElement(ne,{label:"User is webhook?",subLabel:"User is webhook or system, and not BOT or Normal User.",leading:_e("ic_webhook_24px"),trailing:e.React.createElement(Ht,{value:t?.isWebhook||!1,onValueChange:function(u){return t.isWebhook=u}})})),o&&e.React.createElement(se,{style:[P.container,{paddingBottom:10}]},e.React.createElement(Le,{onPress:function(){return xe.showUserProfile?.({userId:o?.id})},onPressIn:n,onPressOut:c},e.React.createElement(z.View,{style:b},e.React.createElement(Ut,{source:{uri:o?.getAvatarURL?.()?.replace?.("webp","png")||"https://cdn.discordapp.com/embed/avatars/2.png"},style:{width:128,height:128,borderRadius:10}}))),e.React.createElement(se,{style:P.textContainer},e.React.createElement(Le,{onPress:function(){return xe.showUserProfile({userId:o?.id})}},e.React.createElement(kt,{style:[P.mainText,P.header]},o?.username||t?.username||"No Name"))),e.React.createElement(Gt,null)),e.React.createElement(ne,{label:e.React.createElement(Ot,{text:"Remove User from Ignore List",style:{color:R.rawColors.RED_400}}),onPress:function(){i.pop(),s.storage?.inputs?.ignoredUserList?.splice(r,1)}}))))}const{ScrollView:jt,View:Xt,Text:Rr,TouchableOpacity:Wt,TextInput:Jt}=h.General,{FormLabel:pr,FormIcon:Kt,FormArrow:qt,FormRow:oe,FormSwitch:Er,FormSwitchRow:yr,FormSection:Qt,FormDivider:Zt,FormInput:wr}=h.Forms;function ve(a,r){return e.React.createElement(Kt,{style:{opacity:1},source:a})}const ea=f.findByName("useIsFocused"),{BottomSheetFlatList:Fr}=f.findByProps("BottomSheetScrollView"),{getUser:ta}=f.findByProps("getUser"),aa=g.getAssetIDByName("ic_add_24px");g.getAssetIDByName("ic_arrow"),g.getAssetIDByName("ic_minus_circle_24px"),g.getAssetIDByName("Check"),g.getAssetIDByName("Small");const ra=g.getAssetIDByName("ic_trash_24px"),_=e.stylesheet.createThemedStyleSheet({basicPad:{paddingRight:10,marginBottom:10,letterSpacing:.25},header:{color:R.semanticColors.HEADER_SECONDARY,fontFamily:e.constants.Fonts.PRIMARY_BOLD,paddingLeft:"3.5%",fontSize:24},sub:{color:R.semanticColors.TEXT_POSITIVE,fontFamily:e.constants.Fonts.DISPLAY_NORMAL,paddingLeft:"4%",fontSize:18},flagsText:{color:R.semanticColors.HEADER_SECONDARY,fontFamily:e.constants.Fonts.PRIMARY_BOLD,paddingLeft:"4%",fontSize:16},input:{fontSize:16,fontFamily:e.constants.Fonts.PRIMARY_MEDIUM,color:R.semanticColors.TEXT_NORMAL},placeholder:{color:R.semanticColors.INPUT_PLACEHOLDER_TEXT}});function sa(){$.useProxy(s.storage);let[a,r]=e.React.useState("");const t=e.NavigationNative.useNavigation();ea();let l=s.storage?.inputs?.ignoredUserList??[];const n=function(){if(a){if(isNaN(parseInt(a)))l.push({id:void 0,username:a});else{let c=ta(a);if(c)l.push({id:c?.id,username:"",showUser:!1,isWebhook:!1});else return V.showToast("Invalid User Id")}r(""),t.push("VendettaCustomPage",{title:"Adding User to Ignore List",render:function(){return e.React.createElement(Me,{index:l?.length-1})}})}};return e.React.createElement(e.React.Fragment,null,e.React.createElement(jt,{style:{flex:1}},e.React.createElement(Qt,{style:[_.header,_.basicPad]},e.React.createElement(Xt,{style:[_.header,_.sub]},l.length>0&&e.React.createElement(oe,{label:"Clear List",trailing:ve(ra),onPress:function(){l.length!==0&&Ge.showConfirmationAlert({title:"Hol up, wait a minute!",content:`This will removes in total ${l.length} users from ignore list.`,confirmText:"Ye",cancelText:"Nah",confirmColor:"brand",onConfirm:function(){s.storage.inputs.ignoredUserList=[]}})}}),l?.map(function(c,b){return e.React.createElement(e.React.Fragment,null,e.React.createElement(oe,{label:c?.username||c?.id||"No Data",trailing:e.React.createElement(qt,null),onPress:function(){return t.push("VendettaCustomPage",{title:"Editing User",render:function(){return e.React.createElement(Me,{index:b})}})}}),b!==l?.length-1&&e.React.createElement(Zt,null))}),e.React.createElement(oe,{label:e.React.createElement(Jt,{value:a,onChangeText:r,placeholder:"User ID or Username",placeholderTextColor:_.placeholder.color,selectionColor:e.constants.Colors.PRIMARY_DARK_100,onSubmitEditing:n,returnKeyType:"done",style:_.input}),trailing:e.React.createElement(Wt,{onPress:n},ve(aa))})))))}const{ScrollView:Ar,View:Sr,Text:Cr,TouchableOpacity:na,TextInput:$r,Pressable:Ir,Image:Dr,Animated:Tr}=h.General,{FormLabel:Lr,FormIcon:Ne,FormArrow:Pr,FormRow:oa,FormSwitch:Br,FormSwitchRow:xr,FormSection:_r,FormDivider:la,FormInput:Mr,FormSliderRow:vr}=h.Forms;function ia(){$.useProxy(s.storage);const a=e.NavigationNative.useNavigation(),r=function(){a.push("VendettaCustomPage",{title:"List of Ignored Users",render:function(){return React.createElement(sa,null)}})};return React.createElement(React.Fragment,null,React.createElement(oa,{label:"Add User to List",subLabel:"List of ignored users for the plugin",leading:React.createElement(Ne,{style:{opacity:1},source:g.getAssetIDByName("ic_members")}),onPress:r,trailing:React.createElement(na,{onPress:r},React.createElement(Ne,{style:{opacity:1},source:g.getAssetIDByName("ic_add_24px")}))}),React.createElement(la,null))}const{ScrollView:Nr,View:ca,Text:kr,TouchableOpacity:Ur,TextInput:Or,Pressable:Vr,Image:Hr,Animated:zr}=h.General,{FormRow:ua,FormIcon:da,FormSwitch:ga,FormDivider:fa}=h.Forms,ma=f.findByName("HelpMessage"),ke=[{id:"minimalistic",default:!0,label:"Minimalistic Settings",subLabel:"Removes all Styling (Enabled by Default)"},{id:"useBackgroundColor",default:!1,label:"Enable Background Color",subLabel:"Background Color for Deleted Message, similiar to Mention but Customizeable"},{id:"useSemRawColors",default:!1,label:"Use Semantic/Raw Color",subLabel:"Use Semantic/Raw Color instead of Custom Color for Background Color, doesn't applied to GutterColor"},{id:"ignoreBots",default:!1,label:"Ignore Bots",subLabel:"Ignore bot deleted messages."},{id:"removeDismissButton",default:!1,label:"Remove Dissmiss Message",subLabel:"Remove clickable Dismiss Message text from deleted ephemeral messages."},{id:"addTimestampForEdits",default:!1,label:"Add Edit Timestamp",subLabel:"Add Timestamp for edited messages."},{id:"useEphemeralForDeleted",default:!0,label:"Use Ephemeral for Deleted",subLabel:"When messages got deleted it'll use ephemeral instead of normal message (Enabled by Default)."},{id:"useIndicatorForDeleted",default:!1,label:"use Indicator For 'This Message is Deleted'",subLabel:"Use 'only you can see this' for deleted message info, instead of (edited)"},{id:"overrideIndicator",default:!1,label:"Remove Ephemeral Indicator",subLabel:"When messages got deleted it'll have indicator under the text like 'only you can see this' and this remove those."}];function ha(a){let{styles:r}=a;return $.useProxy(s.storage),React.createElement(React.Fragment,null,React.createElement(ca,{style:[r.subText]},s.storage?.switches.minimalistic&&React.createElement(ma,{messageType:0},'To use styling, disable "Minimalistic" option'),ke?.map(function(t,l){return React.createElement(React.Fragment,null,React.createElement(ua,{label:t?.label,subLabel:t?.subLabel,leading:t?.icon&&React.createElement(da,{style:{opacity:1},source:g.getAssetIDByName(t?.icon)}),trailing:"id"in t?React.createElement(ga,{value:s.storage?.switches[t?.id]??t?.default,onValueChange:function(n){return s.storage.switches[t?.id]=n}}):void 0}),l!==ke?.length-1&&React.createElement(fa,null))})))}function G(){for(var a=arguments.length,r=new Array(a),t=0;t<a;t++)r[t]=arguments[t];return[...r]}var le=[me("1.0 - 1.3",null,G("Version 1.4 does not support backwards compatibility after Discord version 265.16 Stable.")),me("1.4.0",G("[1.4] Trying to reinstate colorful setting for IOS.","[1.4] Added new Option to Remove Ephemeral Indicator","[1.4] Added new Option to Switch 'this message is deleted' to be an indicator","[1.4] Added debug updateRows Switch for nerds.","[1.4] Added Known Bugs Section for those annoying peoples complaining about things."),G("[1.4] Discontinued Support for older version related to updateRows function, Use Version 1.3.1 if you using old version"),G("[1.4] Update updateRows function to Support Newer Version of Discord"))].reverse();const Ue=[{bugType:"ActionSheet",bugDescription:"Fail to patch custom buttons into Action Sheet"},{bugType:"EDIT",bugDescription:"Removing Edit Logs with link in it caused a crash"},{bugType:"EDIT",bugDescription:"in Rare Occasion, edits Patcher can logs multiple edits of same text or Double Fire Func"}],{ScrollView:Yr,View:Oe,Text:jr,TouchableOpacity:Xr,TextInput:Wr,Image:Jr,Animated:Kr}=h.General,{FormLabel:qr,FormIcon:ba,FormArrow:Qr,FormRow:ie,FormSwitch:Zr,FormSwitchRow:es,FormSection:ts,FormDivider:Ra,FormInput:as}=h.Forms,pa=g.getAssetIDByName("ic_radio_square_checked_24px"),Ea=g.getAssetIDByName("ic_radio_square_24px"),ya=g.getAssetIDByName("ic_information_24px");g.getAssetIDByName("ic_info");const wa=g.getAssetIDByName("premium_sparkles"),Fa=g.getAssetIDByName("ic_sync_24px"),Aa=g.getAssetIDByName("ic_progress_wrench_24px"),M=e.stylesheet.createThemedStyleSheet({border:{borderRadius:10},textBody:{color:R.semanticColors.TEXT_NORMAL,fontFamily:e.constants.Fonts.PRIMARY_MEDIUM,letterSpacing:.25,fontSize:22},textBody:{color:R.semanticColors.INPUT_PLACEHOLDER_TEXT,fontFamily:e.constants.Fonts.DISPLAY_NORMAL,letterSpacing:.25,fontSize:16},versionBG:{margin:10,padding:15,backgroundColor:"rgba(55, 149, 225, 0.3)"},rowLabel:{margin:10,padding:15,backgroundColor:"rgba(33, 219, 222, 0.34)"}});function Y(a){return e.React.createElement(ba,{style:{opacity:1},source:a})}function Sa(a){let{change:r,index:t,totalIndex:l}=a;const[n,c]=e.React.useState(!1),[b,o]=e.React.useState(!1);function m(i,u,p,F){return e.React.createElement(Oe,null,e.React.createElement(ie,{label:u||"No Section",subLabel:p||null,leading:F&&Y(F),style:[M.textHeader]}),i.map(function(A,y){return e.React.createElement(e.React.Fragment,null,e.React.createElement(ie,{label:A,style:[M.textBody,M.rowLabel,M.border]}))}))}return e.React.createElement(e.React.Fragment,null,e.React.createElement(h.ErrorBoundary,null,e.React.createElement(ie,{label:r?.version,leading:t==0?Y(pa):Y(Ea),trailing:Y(ya),onPress:function(){c(!n)}}),n&&e.React.createElement(Oe,{style:[M.versionBG,M.border]},r?.new?.length>0&&m(r.new,"New","New stuffies",wa),r?.updated?.length>0&&m(r.updated,"Changes","Update things",Fa),r?.fix?.length>0&&m(r.fix,"Fixes","Me hate borken things",Aa)),t==l.length-1?void 0:e.React.createElement(Ra,null)))}const{ScrollView:Ca,View:j,Text:rs,TouchableOpacity:ss,TextInput:ns,Pressable:os,Image:ls,Animated:ce}=h.General,{FormLabel:is,FormIcon:cs,FormArrow:us,FormRow:O,FormSwitch:ue,FormSwitchRow:ds,FormSection:X,FormDivider:W,FormInput:gs,FormSliderRow:fs}=h.Forms,$a=f.findByName("LinearGradient"),w=e.stylesheet.createThemedStyleSheet({text:{color:R.semanticColors.HEADER_SECONDARY,paddingLeft:"5.5%",paddingRight:10,marginBottom:10,letterSpacing:.25,fontFamily:e.constants.Fonts.PRIMARY_BOLD,fontSize:16},subText:{color:R.semanticColors.TEXT_POSITIVE,paddingLeft:"6%",paddingRight:10,marginBottom:10,letterSpacing:.25,fontFamily:e.constants.Fonts.DISPLAY_NORMAL,fontSize:12},input:{fontSize:16,fontFamily:e.constants.Fonts.PRIMARY_MEDIUM,color:R.semanticColors.TEXT_NORMAL},placeholder:{color:R.semanticColors.INPUT_PLACEHOLDER_TEXT},container:{flex:1,justifyContent:"center",alignItems:"center"},colorPreview:{width:"75%",height:100,marginBottom:20},row:{flexDirection:"row",height:80,width:"90%",marginBottom:20},border:{borderRadius:12},lnBorder:{borderRadius:12,overflow:"hidden"},shadowTemplate:{shadowOffset:{width:1,height:3},shadowOpacity:.9,shadowRadius:24,elevation:16},lnShadow:{flex:1,margin:"1%",shadowColor:"#b8ff34"},darkMask:{backgroundColor:"rgba(10, 10, 10, 0.9)",margin:2,padding:"3%"},padBot:{paddingBottom:20}});function Ia(){$.useProxy(s.storage);const[a]=e.React.useState(new ce.Value(0)),[r,t]=e.React.useState(!1);e.React.useEffect(function(){ce.loop(ce.timing(a,{toValue:4,duration:8e3,useNativeDriver:!0})).start()},[]);const l={backgroundColor:a.interpolate({inputRange:[0,1,2,3,4],outputRange:["rgba(188,31,31,0.5)","rgba(46,168,30,0.5)","rgba(48,179,173,0.5)","rgba(183,40,198,0.5)","rgba(188,31,31,0.5)"]})},n=function(o,m,i,u,p,F){return{id:o,title:m,label:i,subLabel:u,props:p,propsData:F}},c=[n("patches","Plugin Patcher","Show Patches","Toggle what the plugin patch",Rt,w),n("customize","Customization","Customize",null,ha,w),n("text","Text Variables","Customize Texts",null,wt,w),n("timestamp","Timestamp","Timestamp Styles",null,St,w),n("colorpick","Colors","Customize Colors",null,vt,w),n("ingorelist","Ignore List","Show IngoreList",null,ia,null)];e.ReactNative?.Platform?.OS;const b=e.React.createElement(e.React.Fragment,null,e.React.createElement(j,{style:[w.lnBorder,l,w.darkMask]},c.map(function(o){return e.React.createElement(e.React.Fragment,null,e.React.createElement(X,{title:o?.title},e.React.createElement(O,{label:o?.label,subLabel:o?.subLabel,trailing:e.React.createElement(ue,{value:s.storage.setting[o?.id],onValueChange:function(m){s.storage.setting[o?.id]=m}})}),s.storage.setting[o.id]&&o.props&&e.React.createElement(j,{style:{margin:5,padding:10,borderRadius:10,backgroundColor:"rgba(0, 0, 0, 0.15)"}},e.React.createElement(o.props,{styles:o.propsData}))))}),e.React.createElement(W,null),e.React.createElement(X,{title:"Nerd Stuff"},e.React.createElement(O,{label:"Debug",subLabel:"Enable console logging",style:[w.padBot],trailing:e.React.createElement(ue,{value:s.storage.debug,onValueChange:function(o){s.storage.debug=o}})}),e.React.createElement(W,null),e.React.createElement(O,{label:"Debug updateRows",subLabel:"Enable updateRows console logging",style:[w.padBot],trailing:e.React.createElement(ue,{value:s.storage.debugUpdateRows,onValueChange:function(o){s.storage.debugUpdateRows=o}})})),e.React.createElement(W,null),le&&e.React.createElement(X,{title:"Updates"},e.React.createElement(j,{style:{margin:5,padding:5,borderRadius:10,backgroundColor:"rgba(59, 30, 55, 0.15)"}},le.map(function(o,m){return e.React.createElement(Sa,{change:o,index:m,totalIndex:le.length})}))),e.React.createElement(W,null),Ue&&e.React.createElement(X,{title:"Known Bugs"},e.React.createElement(O,{label:"Click to show those Lady Bug",onPress:function(){t(!r)}}),r&&e.React.createElement(j,{style:{margin:5,padding:5,borderRadius:10,backgroundColor:"rgba(59, 30, 55, 0.15)"}},Ue.map(function(o,m){return e.React.createElement(O,{label:o.bugType,subLabel:o.bugDescription,style:[w.padBot]})})))));return e.React.createElement(e.React.Fragment,null,e.React.createElement(Ca,null,e.React.createElement($a,{start:{x:.8,y:0},end:{x:0,y:.8},colors:["#b8ff34","#4bff61","#44f6ff","#4dafff","#413dff","#d63efd"],style:[w.lnBorder,w.shadowTemplate,w.lnShadow,w.padBot]},b)))}const Ve=f.findByProps("_channelMessages"),J=function(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},de=function(a){return a.replace(/\s?v\d+.\d+.\w+/,"")},Da=Object.keys(je.all).map(function(a){return a?.name});fe(s.storage,{setting:{colorpick:!1,customize:!1,ingorelist:!1,patches:!1,text:!1,timestamp:!1},switches:{customizeable:!1,enableMD:!0,enableMU:!0,useBackgroundColor:!1,useSemRawColors:!1,ignoreBots:!1,minimalistic:!0,alwaysAdd:!1,darkMode:!0,removeDismissButton:!1,addTimestampForEdits:!1,timestampStyle:"R",useEphemeralForDeleted:!0,overrideIndicator:!1,useIndicatorForDeleted:!1},colors:{textColor:"#E40303",backgroundColor:"#FF2C2F",backgroundColorAlpha:"33",gutterColor:"#FF2C2F",gutterColorAlpha:"CC",semRawColorPrefix:"semanticColors.TEXT_BRAND"},inputs:{deletedMessageBuffer:"This message is deleted",editedMessageBuffer:"`[ EDITED ]`",historyToast:"[ANTI ED] History Removed",ignoredUserList:[],customPluginName:C.plugin?.manifest?.name||"ANTIED",customIndicator:""},misc:{timestampPos:"BEFORE",editHistoryIcon:"ic_edit_24px"},debug:!1,debugUpdateRows:!1});let ge={};const He=[];var Ta={onLoad:function(){He.push(et(ge),st(ge),at(),ot(),it(),ct(),dt(ge)),C.plugin?.manifest?.name!=s.storage?.inputs?.customPluginName&&(C.plugin.manifest.name=s.storage?.inputs?.customPluginName)},onUnload:function(){for(const a of He)a();C.plugin?.manifest?.name!=s.storage?.inputs?.customPluginName&&(C.plugin.manifest.name=s.storage?.inputs?.customPluginName);for(const a in Ve._channelMessages)for(const r of Ve._channelMessages[a]._array)r.was_deleted&&e.FluxDispatcher.dispatch({type:"MESSAGE_DELETE",id:r.id,channelId:r.channel_id,otherPluginBypass:!0})},settings:Ia};return x.default=Ta,x.regexEscaper=J,x.stripVersions=de,x.vendettaUiAssets=Da,Object.defineProperty(x,"__esModule",{value:!0}),x})({},vendetta,vendetta.metro,vendetta.ui.components,vendetta.patcher,vendetta.ui.assets,vendetta.utils,vendetta.metro.common,vendetta.plugin,vendetta.ui.toasts,vendetta.storage,vendetta.ui,vendetta.ui.alerts);

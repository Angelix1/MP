(function(m,r,U,i,M,d,o,R,A,h,Ae,Ce){"use strict";const{openLazy:ye,hideActionSheet:wt}=i.findByProps("openLazy","hideActionSheet");function z(e,a){if(e!=null&&a!=null)for(const t of Object.keys(a))typeof a[t]=="object"&&!Array.isArray(a[t])?(typeof e[t]!="object"&&(e[t]={}),z(e[t],a[t])):e[t]??(e[t]=a[t])}function v(e,a){try{ye(new Promise(function(t){return t({default:e})}),"ActionSheet",a)}catch(t){M.logger.error(t.stack),showToast("Got error when opening ActionSheet! Please check debug logs")}}const Ee={toInt(e){return e=e.replace(/^#/,""),parseInt(e,16)},toHex(e){return"#"+e.toString(16).toUpperCase()},HSLtoHEX(e,a,t){t/=100;const n=a*Math.min(t,1-t)/100,l=function(s){const c=(s+e/30)%12,g=t-n*Math.max(Math.min(c-3,9-c,1),-1);return Math.round(255*g).toString(16).padStart(2,"0")};return`#${l(0)}${l(8)}${l(4)}`}};function B(e){const a=e>>16&255,t=e>>8&255,n=e&255;return`#${(1<<24|a<<16|t<<8|n).toString(16).slice(1)}`}const _="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mJsrQAAAgwBAJ9P6qYAAAAASUVORK5CYII=";function O(e,a="#000"){e||(e=a);const t=e?.trim();if(t.startsWith("#")){const n=t.slice(1);if(/^[0-9A-Fa-f]{6}$/.test(n))return"#"+n.toUpperCase()}else if(/^[0-9A-Fa-f]{6}$/.test(t))return"#"+t.toUpperCase();return a}const u={toPercentage:function(e){return e=Number(e),e===0?0:e===1?100:Math.round(e*100)},toDecimal:function(e){e=Number(e);const a=Math.min(Math.max(e,0),100);return a===0?0:a===100?1:a/100},formatDecimal:function(e){return e=Number(e),e===0||e===1?e:e.toFixed(2)},alphaToHex:function(e){e=Number(e);const a=Math.min(Math.max(e,0),100),t=Math.round(a/100*255).toString(16).toUpperCase();return t.length===1?"0"+t:t},hexAlphaToPercent:function(e){const a=parseInt(e,16);return isNaN(a)?0:Math.round(a/255*100)}};function Se(e){return Math.random()<e/100}const{ScrollView:It,View:k,Text:G,TouchableOpacity:H,TextInput:Tt,Pressable:Ut,Image:q,Animated:vt,Component:Bt}=d.General,{FormLabel:Pt,FormIcon:Mt,FormArrow:kt,FormRow:S,FormSwitch:J,FormSwitchRow:Nt,FormSection:Dt,FormDivider:F,FormInput:Lt,FormRadioRow:xt,FormSliderRow:Q}=d.Forms,W=i.findByName("CustomColorPickerActionSheet");function Fe(){U.useProxy(r.storage);const e=r.storage.utils.replyAlert;return o.React.createElement(o.React.Fragment,null,o.React.createElement(S,{label:"Toggle Force Alert",subLabel:"When someone replying to your message with mention disabled, this option will force ping you",trailing:o.React.createElement(J,{value:e?.useReplyAlert||!1,onValueChange:function(a){e.useReplyAlert=a}})}),o.React.createElement(F,null),o.React.createElement(S,{label:"Ignore self Reply",subLabel:"When replying to own message, do not ping",trailing:o.React.createElement(J,{value:e?.ignoreSelf||!1,onValueChange:function(a){e.ignoreSelf=a}})}))}function $e(){U.useProxy(r.storage);const e=r.storage.utils.replyAlert,[a,t]=o.React.useState(u.toDecimal(u.hexAlphaToPercent(e.colorAlpha)||100)),[n,l]=o.React.useState(u.toDecimal(u.hexAlphaToPercent(e.gutterAlpha)||100)),s=function(){return v(W,{color:o.ReactNative.processColor(e?.customColor)||0,onSelect:function(g){const f=B(g);e.customColor=f,r.storage?.debug&&M.logger.log("Reply Alert BG Color","[Changed]",f)}})},c=function(){return v(W,{color:o.ReactNative.processColor(e?.customColor)||0,onSelect:function(g){const f=B(g);e.gutterColor=f,r.storage?.debug&&M.logger.log("Reply Alert Gutter Color","[Changed]",f)}})};return o.React.createElement(o.React.Fragment,null,o.React.createElement(S,{label:"Preview",subLabel:"How it looks in the chat"}),o.React.createElement(k,{style:[{flexDirection:"row",height:80,width:"100%",overflow:"hidden",borderRadius:12,marginBottom:20,marginRight:10,marginLeft:10}]},o.React.createElement(k,{style:{width:"2%",backgroundColor:`${e?.gutterColor}${u.alphaToHex(u.toPercentage(n))}`}}),o.React.createElement(k,{style:{flex:1,backgroundColor:`${e?.customColor}${u.alphaToHex(u.toPercentage(a))}`,justifyContent:"center",alignItems:"center"}},o.React.createElement(G,{style:{fontSize:20,color:"#FFFFFF"}}," Example White Text "),o.React.createElement(G,{style:{fontSize:20,color:"#000000"}}," Example Black Text "))),o.React.createElement(F,null),o.React.createElement(S,{label:"Background Color",subLabel:"Click to Update",onPress:s,trailing:o.React.createElement(H,{onPress:s},o.React.createElement(q,{source:{uri:_},style:{width:128,height:128,borderRadius:10,backgroundColor:e?.customColor||"#000"}}))}),o.React.createElement(F,null),o.React.createElement(S,{label:"Gutter Color",subLabel:"Click to Update",onPress:c,trailing:o.React.createElement(H,{onPress:c},o.React.createElement(q,{source:{uri:_},style:{width:128,height:128,borderRadius:10,backgroundColor:e?.gutterColor||"#000"}}))}),o.React.createElement(F,null),o.React.createElement(Q,{label:`Background Color Alpha: ${u.toPercentage(a)}%`,value:a,style:{width:"90%"},onValueChange:function(g){t(Number(u.formatDecimal(g))),e.colorAlpha=u.alphaToHex(u.toPercentage(g))}}),o.React.createElement(F,null),o.React.createElement(Q,{label:`Gutter Color Alpha: ${u.toPercentage(n)}%`,value:n,style:{width:"90%"},onValueChange:function(g){l(Number(u.formatDecimal(g))),e.gutterAlpha=u.alphaToHex(u.toPercentage(g))}}))}const{FormRow:we,FormSwitch:Ie}=d.Forms;function Te(){return React.createElement(React.Fragment,null,React.createElement(we,{label:"Add Save Image Button to Image ActionSheet",subLabel:"if Built-in Save Image gone",trailing:React.createElement(Ie,{value:r.storage?.utils?.noshare?.addSaveImage||!1,onValueChange:function(e){r.storage.utils.noshare.addSaveImage=e}})}))}const{FormInput:Ue}=d.Forms;function ve(){return React.createElement(React.Fragment,null,React.createElement(Ue,{title:"Name",keyboardType:"default",placeholder:"Angel",value:r.storage?.utils?.cactus?.name,onChange:function(e){return r.storage.utils.cactus.name=e.toString()}}))}const{FormRow:Be,FormSwitch:Pe,FormDivider:Y}=d.Forms;function Me(){U.useProxy(r.storage);const e=function(t,n,l){return{label:t,subLabel:n,key:l}},a=[e("Id","add Copy User Id","addID"),e("Mention","add Copy User Mention","addMention"),e("Id and Mention","add Copy User Id & Mention","addCombine")];return o.React.createElement(o.React.Fragment,null,a.map(function(t,n){return o.React.createElement(o.React.Fragment,null,o.React.createElement(Be,{label:t?.label||"Missing Label",subLabel:t?.subLabel,trailing:o.React.createElement(Pe,{value:r.storage?.utils?.quickid?.[t?.key]||!1,onValueChange:function(l){r.storage.utils.quickid[t.key]=l}})}),n!==a?.length-1&&o.React.createElement(Y,null))}),o.React.createElement(Y,null))}const j=i.findByName("CustomColorPickerActionSheet"),{ScrollView:Vt,View:zt,Text:_t,TouchableOpacity:K,TextInput:Ot,Pressable:Gt,Image:X,Animated:Ht,Component:qt}=d.General,{FormLabel:Jt,FormIcon:ke,FormArrow:Qt,FormRow:N,FormSwitch:Ne,FormSwitchRow:Wt,FormSection:Yt,FormDivider:D,FormInput:jt,FormRadioRow:Kt}=d.Forms,Z=[{id:"enableReply",label:"Patch reply",subLabel:"also replace username color in mentioned referenced message",icon:null,def:!1}];function De(){const e=r.storage?.utils?.customUsernameColor,a=function(){return v(j,{color:o.ReactNative.processColor(e?.hex)||0,onSelect:function(n){const l=B(n);e.hex=l}})},t=function(){return v(j,{color:o.ReactNative.processColor(e?.hex2)||0,onSelect:function(n){const l=B(n);e.hex2=l}})};return React.createElement(React.Fragment,null,React.createElement(N,{label:"Color",subLabel:"Click to Update",onPress:a,trailing:React.createElement(K,{onPress:a},React.createElement(X,{source:{uri:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mJsrQAAAgwBAJ9P6qYAAAAASUVORK5CYII="},style:{width:128,height:128,borderRadius:10,backgroundColor:e?.hex||"#000000"}}))}),React.createElement(D,null),React.createElement(N,{label:"Color #2",subLabel:"Click to Update",onPress:t,trailing:React.createElement(K,{onPress:t},React.createElement(X,{source:{uri:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mJsrQAAAgwBAJ9P6qYAAAAASUVORK5CYII="},style:{width:128,height:128,borderRadius:10,backgroundColor:e?.hex2||"#FFFFFF"}}))}),React.createElement(D,null),Z?.map(function(n,l){return React.createElement(React.Fragment,null,React.createElement(N,{label:n?.label,subLabel:n?.subLabel,leading:n?.icon&&React.createElement(ke,{style:{opacity:1},source:R.getAssetIDByName(n?.icon)}),trailing:"id"in n?React.createElement(Ne,{value:r.storage?.utils?.customUsernameColor[n?.id]??n?.def,onValueChange:function(s){return r.storage.utils.customUsernameColor[n?.id]=s}}):void 0}),l!==Z?.length-1&&React.createElement(D,null))}))}const ee="https://cdn.discordapp.com/role-icons/1222207470714486825/bc3ef24c3f220155f90e55cc0cb0d0cf.png?size=512",{ScrollView:Xt,View:Zt,Text:ea,TouchableOpacity:Le,TextInput:ta,Pressable:aa,Image:xe,Animated:oa,Component:ra}=d.General,{FormLabel:na,FormIcon:la,FormArrow:sa,FormRow:Ve,FormSwitch:ca,FormSwitchRow:ia,FormSection:ua,FormDivider:te,FormInput:ze,FormRadioRow:da}=d.Forms,ae=[{id:"name",label:"Role Icon Name",keyType:"default",placeholder:"BlobCatSip",def:"BlobCatSip"},{id:"source",label:"Role Icon Image Url",keyType:"default",placeholder:"https://cdn.discordapp.com/role-icons/1222207470714486825/bc3ef24c3f220155f90e55cc0cb0d0cf.png?size=512",def:ee},{id:"size",label:"Size of the Image",keyType:"number",placeholder:"18",def:18}];function _e(){const e=r.storage?.utils?.customRoleIcon,a=function(){o.clipboard.setString("https://cdn.discordapp.com/role-icons/1222207470714486825/bc3ef24c3f220155f90e55cc0cb0d0cf.png?size=512"),A.showToast("Copied placeholder URL",R.getAssetIDByName("toast_copy_link"))};return React.createElement(React.Fragment,null,React.createElement(Ve,{label:"Icon Preview",trailing:React.createElement(Le,{onPress:a},React.createElement(xe,{source:{uri:e?.source||ee},style:{width:128,height:128,borderRadius:10}}))}),React.createElement(te,null),ae?.map(function(t,n){return React.createElement(React.Fragment,null,React.createElement(ze,{title:t.label,keyboardType:t?.keyType,placeholder:t?.placeholder,value:e[t?.id]??t?.def,onChange:function(l){return e[t?.id]=l.toString()}}),n!==ae?.length-1&&React.createElement(te,null))}))}const P="https://cdn.discordapp.com/clan-badges/603970300668805120/e5926f1f8cf6592d56d27bac37f01a9b.png?size=32",{ScrollView:ga,View:fa,Text:ma,TouchableOpacity:Oe,TextInput:ha,Pressable:ba,Image:Ge,Animated:pa,Component:Ra}=d.General,{FormLabel:Aa,FormIcon:Ca,FormArrow:ya,FormRow:He,FormSwitch:Ea,FormSwitchRow:Sa,FormSection:Fa,FormDivider:oe,FormInput:qe,FormRadioRow:$a}=d.Forms,re=[{id:"clanTag",label:"Tag Name",keyType:"default",placeholder:"AGWX",def:"AGWX"},{id:"clanBadgeUrl",label:"Badge Url",keyType:"default",placeholder:P,def:P}];function Je(){const e=r.storage?.utils?.customClan,a=function(){o.clipboard.setString(P),A.showToast("Copied placeholder URL",R.getAssetIDByName("toast_copy_link"))};return React.createElement(React.Fragment,null,React.createElement(He,{label:"Icon Preview",trailing:React.createElement(Oe,{onPress:a},React.createElement(Ge,{source:{uri:e?.clanBadgeUrl||P},style:{width:128,height:128,borderRadius:10}}))}),React.createElement(oe,null),re?.map(function(t,n){return React.createElement(React.Fragment,null,React.createElement(qe,{title:t.label,keyboardType:t?.keyType,placeholder:t?.placeholder,value:e[t?.id]??t?.def,onChange:function(l){return e[t?.id]=l.toString()}}),n!==re?.length-1&&React.createElement(oe,null))}))}const{ScrollView:Qe,View:ne,Text:wa,TouchableOpacity:Ia,TextInput:Ta,Pressable:Ua,Image:va,Animated:Ba,Component:Pa}=d.General,{FormLabel:Ma,FormIcon:ka,FormArrow:Na,FormRow:le,FormSwitch:se,FormSwitchRow:Da,FormSection:We,FormDivider:ce,FormInput:La,FormRadioRow:xa}=d.Forms;function Ye(){U.useProxy(r.storage);const e=function(t,n,l,s,c){return{id:t,title:n,label:l,subLabel:s,props:c}},a=[e("cactus","Cactus","Toggle uhhh.. something",null,ve),e("notype","No Type","Toggle No Typings",null,null),e("quickid","QID","Toggle Quick ID Setting",null,Me),e("noshare","No Share","Toggle No Share",null,Te),e("customUsernameColor","CUC","Toggle Custom Username Color",null,De),e("customRoleIcon","CRI","Toggle Custom Role Icon",null,_e),e("customClan","CCB","Toggle Custom Clan Badge",null,Je),e("ralert","Reply Alert","Toggle Settings",null,Fe),e("customMention","Custom Mentions","Toggle Custom Mentions Settings",null,$e),e("removeDecor","I HATE AVATAR DECORATIONS","Toggle Remove Avatar Decoration",null,null)];return React.createElement(React.Fragment,null,React.createElement(Qe,null,React.createElement(ne,{style:{borderRadius:10,backgroundColor:"rgba(0, 12, 46, 0.15)",marginBottom:50,marginTop:20}},React.createElement(le,{label:"Debug",subLabel:"enable console logging",trailing:React.createElement(se,{value:r.storage.debug,onValueChange:function(t){r.storage.debug=t}})}),React.createElement(ce,null),a.map(function(t,n){return React.createElement(React.Fragment,null,React.createElement(We,{title:t?.title},React.createElement(le,{label:t?.label,subLabel:t?.subLabel,trailing:React.createElement(se,{value:r.storage.toggle[t?.id],onValueChange:function(l){r.storage.toggle[t?.id]=l}})}),r.storage.toggle[t.id]&&t.props&&React.createElement(ne,{style:{margin:5,padding:10,borderRadius:10,backgroundColor:"rgba(0, 0, 0, 0.15)"}},React.createElement(t.props,null))))})),React.createElement(ce,null)))}const je=i.findByStoreName("UserStore");i.findByProps("getMessage","getMessages");const $=je?.getCurrentUser?.()?.id;function Ke(e){if(e.type=="MESSAGE_CREATE"){const a=e?.message?.referenced_message?.author?.id==$,t=e?.message?.mentions?.some(function(n){return n?.id===$});r.storage?.utils?.replyAlert?.useReplyAlert&&(a||t)&&(e?.message?.author?.id!=$?e.message.mentions.push({id:$}):r.storage?.utils?.replyAlert?.ignoreSelf==!1&&e.message.mentions.push({id:$}))}}function ie(e){const{gutterColor:a,customColor:t,gutterAlpha:n,colorAlpha:l}=r.storage?.utils?.replyAlert;if(r.storage?.toggle?.customMention&&e?.message?.mentioned){e.backgroundHighlight??(e.backgroundHighlight={});const s=O(t,"#DAFFFF"),c=O(a,"#121212");e.backgroundHighlight={backgroundColor:o.ReactNative.processColor(`${s}${l}`),gutterColor:o.ReactNative.processColor(`${c}${n}`)}}return e}function Xe(){return h.before("dispatch",o.FluxDispatcher,function([e]){m.isEnabled&&Ke(e)})}const{ActionSheetRow:ue}=i.findByProps("ActionSheetRow");function Ze(e,a,t,n){if(a=="MessageLongPressActionSheet"&&r.storage?.toggle?.quickid){const l=t?.message;if(!l)return;e.then(function(s){const c=h.after("default",s,function(g,f){o.React.useEffect(function(){return function(){c()}},[]);function w(p){return p?.props?.label?.toLowerCase?.()=="mention"}const b=Ae.findInReactTree(f,function(p){return p?.find?.(w)});if(!b)return f;const C=Math.max(b.findIndex(w),b.length-1);r.storage.debug&&(console.log("Position => "+C),console.log(b));function I(p,V,Ft,$t){return{label:p,sub:V,icon:Ft,callback:$t}}let y=[];const{addID:T,addMention:E,addCombine:St}=r.storage?.utils?.quickid;T&&y.push(I("Copy User's Id","Result: <Some ID>","ic_copy_id",function(){n.hideActionSheet(),o.clipboard.setString(l?.author?.id??""),A.showToast("Copied User's ID to clipboard",R.getAssetIDByName("toast_copy_link"))})),E&&y.push(I("Copy User's Mention","Result: <Mention>","ic_copy_id",function(){n.hideActionSheet(),o.clipboard.setString(`<@${l?.author?.id??""}>`),A.showToast("Copied User's Mention to clipboard",R.getAssetIDByName("toast_copy_link"))})),St&&y.push(I("Copy User's Id and Mention","Result: <Some ID> <Mention>","ic_copy_id",function(){n.hideActionSheet(),o.clipboard.setString(`${l?.author?.id??""} <@${l?.author?.id??""}>`),A.showToast("Copied User to clipboard",R.getAssetIDByName("toast_copy_link"))})),y.reverse(),C>=0&&b.splice(C,1);for(const p of y){const V=o.React.createElement(o.React.Fragment,null,o.React.createElement(ue,{label:p?.label,subLabel:p?.sub,icon:p?.icon&&o.React.createElement(ue.Icon,{source:R.getAssetIDByName(p?.icon)}),onPress:p?.callback}));b.unshift(V)}})})}}const{FormIcon:Va}=d.Forms,{downloadMediaAsset:et}=i.findByProps("downloadMediaAsset"),{FormRow:de,FormIcon:ge}=d.Forms;function tt(e,a,t,n){r.storage?.toggle?.noshare&&a=="MediaShareActionSheet"&&e.then(function(l){const s=h.after("default",l,function([{syncer:c}],g){o.React.useEffect(function(){return s()},[]);let f=c.sources[c.index.value];Array.isArray(f)&&(f=f[0]);const w=f.sourceURI??f.uri,b=g.props.children.props.children,C=b.findIndex(function(E){return E?.props?.label===o.i18n?.Messages?.SHARE||E?.props?.label==="Share"}),I=o.React.createElement(de,{label:"Copy Image Link",subLabel:"Added by Azzy Util",leading:o.React.createElement(ge,{style:{opacity:1},source:R.getAssetIDByName("ic_message_copy")}),onPress:function(){n.hideActionSheet(),o.clipboard.setString(w),A.showToast("Link copied")}}),y=o.React.createElement(de,{label:"Save Image",subLabel:"Added by Azzy Util",leading:o.React.createElement(ge,{style:{opacity:1},source:R.getAssetIDByName("ic_download_24px")}),onPress:function(){n.hideActionSheet(),et(w,0),A.showToast("Downloading image",R.getAssetIDByName("toast_image_saved"))}}),T=[I];if(r.storage.utils.noshare.addSaveImage&&T.push(y),b)if(C>=0){b.splice(C,1);for(const E of T)b.splice(C,0,E)}else b.push(...T)})})}const L=i.findByProps("openLazy","hideActionSheet");function at(){return h.before("openLazy",L,function([e,a,t]){m.isEnabled&&(Ze(e,a,t,L),tt(e,a,t,L))})}const fe=i.findByStoreName("UserStore");function ot(e){if(e?.message){if(r.storage?.debug){const s=["editedColor","textColor","linkColor","opTagTextColor","opTagBackgroundColor","usernameColor","roleColor","roleColors","colorString","feedbackColor","highlightColor","clanTag","clanBadgeUrl"];for(let c of s)console.log(`
========= [${c}] ---`,e?.message?.[c],`
`,e?.message?.[c]!=null||e?.message?.[c]!=null?Ee.toHex(e?.message?.[c]):"None",`
`)}let{hex:a,hex2:t,enableReply:n}=r.storage?.utils?.customUsernameColor;a??(a="#000"),t??(t="#FFF"),n??(n=!1);const l=function(s){return a&&(s.usernameColor=o.ReactNative.processColor(a),s.roleColor=o.ReactNative.processColor(a),t&&(s.roleColors={primaryColor:o.ReactNative.processColor(a),secondaryColor:o.ReactNative.processColor(t)})),s};return r.storage?.debug&&console.log("[AZZYUTILS cuc.js]",e.message.authorId,e?.message?.referencedMessage?.message?.authorId),fe?.getCurrentUser?.()?.id==e?.message?.authorId&&l(e?.message),n&&e?.message?.referencedMessage?.message&&fe?.getCurrentUser?.()?.id==e?.message?.referencedMessage?.message?.authorId&&l(e?.message?.referencedMessage?.message),e}}const rt=i.findByStoreName("UserStore");function nt(e){if(e?.message){if(rt?.getCurrentUser?.()?.id==e?.message?.authorId){const a=r.storage?.utils?.customRoleIcon;let t={};!a?.name&&!a?.source&&!a?.size?t={name:"BlobCatSip",source:"https://cdn.discordapp.com/role-icons/1222207470714486825/bc3ef24c3f220155f90e55cc0cb0d0cf.png?size=512",alt:"Role icon, BlobCatSip",size:18}:(t.name=a.name,t.source=a.source,t.size=a.size,t.alt=`Role icon, ${a.name}`),e.message.roleIcon=t}return e}}const lt=i.findByStoreName("UserStore");function st(e){if(e?.message){if(lt?.getCurrentUser?.()?.id==e?.message?.authorId){const a=r.storage?.utils?.customClan;a?.clanBadgeUrl&&a?.clanTag&&(e.message.clanTag=(typeof a?.clanTag=="string"?a?.clanTag?.toUpperCase():a?.clanTag)||"AGWX",e.message.clanBadgeUrl=a?.clanBadgeUrl||"https://cdn.discordapp.com/clan-badges/603970300668805120/e5926f1f8cf6592d56d27bac37f01a9b.png?size=32")}return e}}const me=i.findByProps("updateRows","getConstants"),ct=function(){return h.before("updateRows",me,function(e){if(m.isEnabled){let a=JSON.parse(e[1]);return r.storage?.debug&&console.log("[AZZYUTILS update_rows.js] ========== updateRows rows =========="),a.forEach(function(t){r.storage?.debug&&console.log(t),ie(t),r.storage?.toggle?.customUsernameColor&&ot(t),r.storage?.toggle?.customRoleIcon&&nt(t),r.storage?.toggle?.customClan&&st(t)}),r.storage?.debug&&console.log("====================================="),e[1]=JSON.stringify(a),e[1]}})},it=function(){return h.after("updateRows",me,function(e){if(m.isEnabled){let a=JSON.parse(e[1]);return a.forEach(function(t){ie(t)}),e[1]=JSON.stringify(a),e[1]}})},he=i.findByProps("startTyping"),ut=function(){return h.instead("startTyping",he,function(){})},dt=function(){return h.instead("stopTyping",he,function(){})},be=i.findByProps("startEditMessage"),gt=function(){return h.before("startEditMessage",be,function(e){})},ft=function(){return h.before("editMessage",be,function(e){})};function mt(e){return e?.avatarDecorationData&&r.storage?.toggle?.removeDecor&&(e.avatarDecorationData=null),e}const ht=i.findByStoreName("UserStore"),bt=function(){return h.after("getUser",ht,function(e,a){m.isEnabled&&mt(a)})},pe=["Rawr~","Nyaa","Don't touch my tail!","Maawww! Nappy!","Awowooo","I can chase butterflies all day!","Cuddles?!","These ears pick up everything :3","Shiny things~","Belly rubs, yay","Am cute","Snuggles","Tails","Pawbs","Boxes, owo","Feeling cuddly today!","Feeling cute"];function pt(e){if(r.storage?.toggle?.cactus&&e?.content?.length>25&&Se(3)){const a=Math.floor(Math.random()*pe.length);e.content=`${e?.content}

*${pe[a]}*  - \`${r.storage?.utils?.cactus?.name||"Angel"}\``}}const Rt=i.findByProps("sendMessage","receiveMessage");function At(){return h.before("sendMessage",Rt,function(e){m.isEnabled&&pt(e[1])})}z(r.storage,{toggle:{ctime:!1,ralert:!1,customMention:!1,notype:!1,quickid:!1,eml:!1,noshare:!1,removeDecor:!1,cactus:!1,customUsernameColor:!1,customRoleIcon:!1,customClan:!1},utils:{cactus:{name:""},quickid:{addID:!1,addMention:!1,addCombine:!1},replyAlert:{customColor:"#000",gutterColor:"#FFF",colorAlpha:"33",gutterAlpha:"33",useReplyAlert:!1,useCustomColor:!1,ignoreSelf:!1,altAlpha:!1},eml:{logEdit:!1,editedMsg:[]},noshare:{addSaveImage:!1,addCopyImage:!1},customUsernameColor:{hex:"#FFFFFF",hex2:"#AAAAAA",enableReply:!1},customRoleIcon:{name:"BlobCatSip",source:"https://cdn.discordapp.com/role-icons/1222207470714486825/bc3ef24c3f220155f90e55cc0cb0d0cf.png?size=512",size:18,showOthers:!1},customClan:{clanBadgeUrl:"https://cdn.discordapp.com/clan-badges/603970300668805120/e5926f1f8cf6592d56d27bac37f01a9b.png?size=32",clanTag:"AGWX"}},debug:!1});let x=[],Re;m.isEnabled=!1,x.push(at,Xe,ct,it,gt,ft,bt,At);const Ct=function(){return x.forEach(function(e){return e()})},yt=function(){r.storage.utils.eml.editedMsg.forEach(function(e){o.FluxDispatcher.dispatch({type:"MESSAGE_UPDATE",message:e,otherPluginBypass:!0})}),r.storage.utils.eml.editedMsg=[]};var Et={onLoad:function(){m.isEnabled=!0,r.storage?.toggle?.notype&&x.push(ut,dt),Re=Ct()?.catch(function(e){console.log("AZZYUTIL, Crash On Load"),console.log(e),Ce.stopPlugin(r.id)})},onUnload:function(){m.isEnabled=!1,Re?.(),yt?.()},settings:Ye};return m.default=Et,Object.defineProperty(m,"__esModule",{value:!0}),m})({},vendetta.plugin,vendetta.storage,vendetta.metro,vendetta,vendetta.ui.components,vendetta.metro.common,vendetta.ui.assets,vendetta.ui.toasts,vendetta.patcher,vendetta.utils,vendetta.plugins);

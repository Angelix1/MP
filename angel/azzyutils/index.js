(function(m,o,N,d,k,F,n,Q,s,S,p,Se,Ie){"use strict";const{openLazy:we,hideActionSheet:Bt}=d.findByProps("openLazy","hideActionSheet");function q(e,a){if(e!=null&&a!=null)for(const t of Object.keys(a))typeof a[t]=="object"&&!Array.isArray(a[t])?(typeof e[t]!="object"&&(e[t]={}),q(e[t],a[t])):e[t]??(e[t]=a[t])}function P(e,a){try{we(new Promise(function(t){return t({default:e})}),"ActionSheet",a)}catch(t){k.logger.error(t.stack),showToast("Got error when opening ActionSheet! Please check debug logs")}}function x(e){const a=e>>16&255,t=e>>8&255,r=e&255;return`#${(1<<24|a<<16|t<<8|r).toString(16).slice(1)}`}function B(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return{version:e,new:a,updated:t,fix:r}}const C={...F.General,...F.Forms},j="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mJsrQAAAgwBAJ9P6qYAAAAASUVORK5CYII=";function J(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#000";e||(e=a);const t=e?.trim();if(t.startsWith("#")){const r=t.slice(1);if(/^[0-9A-Fa-f]{6}$/.test(r))return"#"+r.toUpperCase()}else if(/^[0-9A-Fa-f]{6}$/.test(t))return"#"+t.toUpperCase();return a}const c={toPercentage:function(e){return e=Number(e),e===0?0:e===1?100:Math.round(e*100)},toDecimal:function(e){e=Number(e);const a=Math.min(Math.max(e,0),100);return a===0?0:a===100?1:a/100},formatDecimal:function(e){return e=Number(e),e===0||e===1?e:e.toFixed(2)},alphaToHex:function(e){e=Number(e);const a=Math.min(Math.max(e,0),100),t=Math.round(a/100*255).toString(16).toUpperCase();return t.length===1?"0"+t:t},hexAlphaToPercent:function(e){const a=parseInt(e,16);return isNaN(a)?0:Math.round(a/255*100)}};function Fe(e){return Math.random()<e/100}const{ScrollView:Dt,View:Y,Text:Ut,TouchableOpacity:kt,TextInput:Pt,Image:xt,Animated:Lt}=F.General,{FormLabel:_t,FormIcon:$e,FormArrow:zt,FormRow:L,FormSwitch:Ot,FormSwitchRow:Vt,FormSection:Ht,FormDivider:ve,FormInput:Gt}=F.Forms,Me=s.getAssetIDByName("ic_radio_square_checked_24px"),Te=s.getAssetIDByName("ic_radio_square_24px"),Ne=s.getAssetIDByName("ic_information_24px");s.getAssetIDByName("ic_info");const Be=s.getAssetIDByName("premium_sparkles"),De=s.getAssetIDByName("ic_sync_24px"),Ue=s.getAssetIDByName("ic_progress_wrench_24px"),I=n.stylesheet.createThemedStyleSheet({border:{borderRadius:10},textBody:{color:Q.semanticColors.TEXT_NORMAL,fontFamily:n.constants.Fonts.PRIMARY_MEDIUM,letterSpacing:.25,fontSize:22},textBody:{color:Q.semanticColors.INPUT_PLACEHOLDER_TEXT,fontFamily:n.constants.Fonts.DISPLAY_NORMAL,letterSpacing:.25,fontSize:16},versionBG:{margin:10,padding:15,backgroundColor:"rgba(55, 149, 225, 0.3)"},rowLabel:{margin:10,padding:15,backgroundColor:"rgba(33, 219, 222, 0.34)"}});function D(e){return n.React.createElement($e,{style:{opacity:1},source:e})}function ke(e){let{change:a,index:t,totalIndex:r}=e;const[l,b]=n.React.useState(!1);n.React.useState(!1);function g(f,h,u,R){return n.React.createElement(Y,null,n.React.createElement(L,{label:h||"No Section",subLabel:u||null,leading:R&&D(R),style:[I.textHeader]}),f.map(function(y,A){return n.React.createElement(n.React.Fragment,null,n.React.createElement(L,{label:y,style:[I.textBody,I.rowLabel,I.border]}))}))}return n.React.createElement(n.React.Fragment,null,n.React.createElement(F.ErrorBoundary,null,n.React.createElement(L,{label:a?.version,leading:t==0?D(Me):D(Te),trailing:D(Ne),onPress:function(){b(!l)}}),l&&n.React.createElement(Y,{style:[I.versionBG,I.border]},a?.new?.length>0&&g(a.new,"New","New stuffies",Be),a?.updated?.length>0&&g(a.updated,"Changes","Update things",De),a?.fix?.length>0&&g(a.fix,"Fixes","Me hate borken things",Ue)),t==r.length-1?void 0:n.React.createElement(ve,null)))}function E(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];return[...a]}var _=[B("1.0.0",E("Created the Plugin")),B("1.0.1 - 1.0.3",E("[1.0.1] Added Remove Decor","[1.0.1] Customization for reply alert","[1.0.1] Option to revert locally edited message (wipe on unload of the plugin)","[1.0.22] Setting for Quick Id","[1.0.22] Option to toggle Force alert","[1.0.22] Preview for ReplyAlert"),E("[1.0.2] Remove Custom Timestamp","[1.0.24] EML will wipe its log when onunload and revert every message its edit","[1.0.3] Update EML, QID buttons"),E("[1.0.21] Fix Cactus","[1.0.22] Fix No Share fails to find Share button","[1.0.23] Fix Quick ID removing edit message button","[1.0.3] Fixed EML button fails to append under Reply Button","[1.0.3] Fixed QID buttons fails to append to a correct place")),B("1.1",E("[1.1.0] Added Custom Username Color","[1.1.0] Added Custom Role Icon"),E("[1.1.0] Separated reply alert and custom mention to be their own thing")),B("1.2",null,E("[1.2] Removed EML due possibly harmful use case"))].reverse();const{ScrollView:qt,View:z,Text:W,TouchableOpacity:Z,TextInput:jt,Image:K,Animated:Jt,FormLabel:Yt,FormIcon:Wt,FormArrow:Zt,FormRow:$,FormSwitch:X,FormSwitchRow:Kt,FormSection:Xt,FormDivider:v,FormInput:ea,FormRadioRow:ta,FormSliderRow:ee}=C,te=d.findByName("CustomColorPickerActionSheet");function Pe(){N.useProxy(o.storage);const e=o.storage.utils.replyAlert;return n.React.createElement(n.React.Fragment,null,n.React.createElement($,{label:"Toggle Force Alert",subLabel:"When someone replying to your message with mention disabled, this option will force ping you",trailing:n.React.createElement(X,{value:e?.useReplyAlert||!1,onValueChange:function(a){e.useReplyAlert=a}})}),n.React.createElement(v,null),n.React.createElement($,{label:"Ignore self Reply",subLabel:"When replying to own message, do not ping",trailing:n.React.createElement(X,{value:e?.ignoreSelf||!1,onValueChange:function(a){e.ignoreSelf=a}})}))}function xe(){N.useProxy(o.storage);const e=o.storage.utils.replyAlert,[a,t]=n.React.useState(c.toDecimal(c.hexAlphaToPercent(e.colorAlpha)||100)),[r,l]=n.React.useState(c.toDecimal(c.hexAlphaToPercent(e.gutterAlpha)||100)),b=function(){return P(te,{color:n.ReactNative.processColor(e?.customColor)||0,onSelect:function(f){const h=x(f);e.customColor=h,o.storage?.debug&&k.logger.log("Reply Alert BG Color","[Changed]",h)}})},g=function(){return P(te,{color:n.ReactNative.processColor(e?.customColor)||0,onSelect:function(f){const h=x(f);e.gutterColor=h,o.storage?.debug&&k.logger.log("Reply Alert Gutter Color","[Changed]",h)}})};return n.React.createElement(n.React.Fragment,null,n.React.createElement($,{label:"Preview",subLabel:"How it looks in the chat"}),n.React.createElement(z,{style:[{flexDirection:"row",height:80,width:"100%",overflow:"hidden",borderRadius:12,marginBottom:20,marginRight:10,marginLeft:10}]},n.React.createElement(z,{style:{width:"2%",backgroundColor:`${e?.gutterColor}${c.alphaToHex(c.toPercentage(r))}`}}),n.React.createElement(z,{style:{flex:1,backgroundColor:`${e?.customColor}${c.alphaToHex(c.toPercentage(a))}`,justifyContent:"center",alignItems:"center"}},n.React.createElement(W,{style:{fontSize:20,color:"#FFFFFF"}}," Example White Text "),n.React.createElement(W,{style:{fontSize:20,color:"#000000"}}," Example Black Text "))),n.React.createElement(v,null),n.React.createElement($,{label:"Background Color",subLabel:"Click to Update",onPress:b,trailing:n.React.createElement(Z,{onPress:b},n.React.createElement(K,{source:{uri:j},style:{width:128,height:128,borderRadius:10,backgroundColor:e?.customColor||"#000"}}))}),n.React.createElement(v,null),n.React.createElement($,{label:"Gutter Color",subLabel:"Click to Update",onPress:g,trailing:n.React.createElement(Z,{onPress:g},n.React.createElement(K,{source:{uri:j},style:{width:128,height:128,borderRadius:10,backgroundColor:e?.gutterColor||"#000"}}))}),n.React.createElement(v,null),n.React.createElement(ee,{label:`Background Color Alpha: ${c.toPercentage(a)}%`,value:a,style:{width:"90%"},onValueChange:function(f){t(Number(c.formatDecimal(f))),e.colorAlpha=c.alphaToHex(c.toPercentage(f))}}),n.React.createElement(v,null),n.React.createElement(ee,{label:`Gutter Color Alpha: ${c.toPercentage(r)}%`,value:r,style:{width:"90%"},onValueChange:function(f){l(Number(c.formatDecimal(f))),e.gutterAlpha=c.alphaToHex(c.toPercentage(f))}}))}const{FormRow:Le,FormSwitch:_e}=C;function ze(){return React.createElement(React.Fragment,null,React.createElement(Le,{label:"Add Save Image Button to Image ActionSheet",subLabel:"if Built-in Save Image gone",trailing:React.createElement(_e,{value:o.storage?.utils?.noshare?.addSaveImage||!1,onValueChange:function(e){o.storage.utils.noshare.addSaveImage=e}})}))}const{FormInput:Oe}=C;function Ve(){return React.createElement(React.Fragment,null,React.createElement(Oe,{title:"Name",keyboardType:"default",placeholder:"Angel",value:o.storage?.utils?.cactus?.name,onChange:function(e){return o.storage.utils.cactus.name=e.toString()}}))}const{FormRow:He,FormSwitch:Ge,FormDivider:ae}=C;function Qe(){N.useProxy(o.storage);const e=function(t,r,l){return{label:t,subLabel:r,key:l}},a=[e("Id","add Copy User Id","addID"),e("Mention","add Copy User Mention","addMention"),e("Id and Mention","add Copy User Id & Mention","addCombine")];return n.React.createElement(n.React.Fragment,null,a.map(function(t,r){return n.React.createElement(n.React.Fragment,null,n.React.createElement(He,{label:t?.label||"Missing Label",subLabel:t?.subLabel,trailing:n.React.createElement(Ge,{value:o.storage?.utils?.quickid?.[t?.key]||!1,onValueChange:function(l){o.storage.utils.quickid[t.key]=l}})}),r!==a?.length-1&&n.React.createElement(ae,null))}),n.React.createElement(ae,null))}const qe=d.findByName("CustomColorPickerActionSheet"),{FormRow:ne,FormSwitch:je,TouchableOpacity:Je,Image:Ye,FormDivider:oe,FormIcon:We}=C,re=[{id:"enableReply",label:"Patch reply",subLabel:"also replace username color in mentioned referenced message",icon:null,def:!1}];function Ze(){const e=o.storage?.utils?.customUsernameColor,a=function(){return P(qe,{color:n.ReactNative.processColor(e?.hex)||0,onSelect:function(t){const r=x(t);e.hex=r}})};return React.createElement(React.Fragment,null,React.createElement(ne,{label:"Color",subLabel:"Click to Update",onPress:a,trailing:React.createElement(Je,{onPress:a},React.createElement(Ye,{source:{uri:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mJsrQAAAgwBAJ9P6qYAAAAASUVORK5CYII="},style:{width:128,height:128,borderRadius:10,backgroundColor:e?.hex||"#000000"}}))}),React.createElement(oe,null),re?.map(function(t,r){return React.createElement(React.Fragment,null,React.createElement(ne,{label:t?.label,subLabel:t?.subLabel,leading:t?.icon&&React.createElement(We,{style:{opacity:1},source:s.getAssetIDByName(t?.icon)}),trailing:"id"in t?React.createElement(je,{value:o.storage?.utils?.customUsernameColor[t?.id]??t?.def,onValueChange:function(l){return o.storage.utils.customUsernameColor[t?.id]=l}}):void 0}),r!==re?.length-1&&React.createElement(oe,null))}))}const le="https://cdn.discordapp.com/role-icons/1222207470714486825/bc3ef24c3f220155f90e55cc0cb0d0cf.png?size=512",{FormRow:Ke,FormSwitch:aa,TouchableOpacity:Xe,Image:et,FormDivider:se,FormIcon:na,FormInput:tt}=C,ce=[{id:"name",label:"Role Icon Name",keyType:"default",placeholder:"BlobCatSip",def:"BlobCatSip"},{id:"source",label:"Role Icon Image Url",keyType:"default",placeholder:"https://cdn.discordapp.com/role-icons/1222207470714486825/bc3ef24c3f220155f90e55cc0cb0d0cf.png?size=512",def:le},{id:"size",label:"Size of the Image",keyType:"number",placeholder:"18",def:18}];function at(){const e=o.storage?.utils?.customRoleIcon,a=function(){n.clipboard.setString("https://cdn.discordapp.com/role-icons/1222207470714486825/bc3ef24c3f220155f90e55cc0cb0d0cf.png?size=512"),S.showToast("Copied placeholder URL",s.getAssetIDByName("toast_copy_link"))};return React.createElement(React.Fragment,null,React.createElement(Ke,{label:"Icon Preview",trailing:React.createElement(Xe,{onPress:a},React.createElement(et,{source:{uri:e?.source||le},style:{width:128,height:128,borderRadius:10}}))}),React.createElement(se,null),ce?.map(function(t,r){return React.createElement(React.Fragment,null,React.createElement(tt,{title:t.label,keyboardType:t?.keyType,placeholder:t?.placeholder,value:e[t?.id]??t?.def,onChange:function(l){return e[t?.id]=l.toString()}}),r!==ce?.length-1&&React.createElement(se,null))}))}const{ScrollView:nt,View:U,Text:oa,TouchableOpacity:ra,TextInput:la,Image:sa,Animated:ca,FormLabel:ia,FormIcon:ua,FormArrow:da,FormRow:ie,FormSwitch:ue,FormSwitchRow:ga,FormSection:de,FormDivider:ge,FormInput:fa,FormRadioRow:ha,Component:ma}=C;function ot(){N.useProxy(o.storage);const e=function(t,r,l,b,g){return{id:t,title:r,label:l,subLabel:b,props:g}},a=[e("cactus","Cactus","Toggle uhhh.. something",null,Ve),e("notype","No Type","Toggle No Typings",null,null),e("quickid","QID","Toggle Quick ID Setting",null,Qe),e("noshare","No Share","Toggle No Share",null,ze),e("customUsernameColor","CUC","Toggle Custom Username Color",null,Ze),e("customRoleIcon","CRI","Toggle Custom Role Icon",null,at),e("ralert","Reply Alert","Toggle Settings",null,Pe),e("customMention","Custom Mentions","Toggle Custom Mentions Settings",null,xe),e("removeDecor","I HATE AVATAR DECORATIONS","Toggle Remove Avatar Decoration",null,null)];return React.createElement(React.Fragment,null,React.createElement(nt,null,React.createElement(U,{style:{borderRadius:10,backgroundColor:"rgba(0, 12, 46, 0.15)"}},React.createElement(ie,{label:"Debug",subLabel:"enable console logging",trailing:React.createElement(ue,{value:o.storage.debug,onValueChange:function(t){o.storage.debug=t}})}),React.createElement(ge,null),a.map(function(t,r){return React.createElement(React.Fragment,null,React.createElement(de,{title:t?.title},React.createElement(ie,{label:t?.label,subLabel:t?.subLabel,trailing:React.createElement(ue,{value:o.storage.toggle[t?.id],onValueChange:function(l){o.storage.toggle[t?.id]=l}})}),o.storage.toggle[t.id]&&t.props&&React.createElement(U,{style:{margin:5,padding:10,borderRadius:10,backgroundColor:"rgba(0, 0, 0, 0.15)"}},React.createElement(t.props,null))))})),React.createElement(ge,null),_&&React.createElement(U,{style:{paddingBottom:36}},React.createElement(de,{title:"Updates"},React.createElement(U,{style:{margin:5,padding:5,borderRadius:10,backgroundColor:"rgba(59, 30, 55, 0.15)"}},_.map(function(t,r){return React.createElement(ke,{change:t,index:r,totalIndex:_.length})}))))))}const rt=d.findByStoreName("UserStore");d.findByProps("getMessage","getMessages");const M=rt?.getCurrentUser?.()?.id;function lt(e){if(e.type=="MESSAGE_CREATE"){const a=e?.message?.referenced_message?.author?.id==M,t=e?.message?.mentions?.some(function(r){return r?.id===M});o.storage?.utils?.replyAlert?.useReplyAlert&&(a||t)&&(e?.message?.author?.id!=M?e.message.mentions.push({id:M}):o.storage?.utils?.replyAlert?.ignoreSelf==!1&&e.message.mentions.push({id:M}))}}function fe(e){const{gutterColor:a,customColor:t,gutterAlpha:r,colorAlpha:l}=o.storage?.utils?.replyAlert;if(o.storage?.toggle?.customMention&&e?.message?.mentioned){e.backgroundHighlight??(e.backgroundHighlight={});const b=J(t,"#DAFFFF"),g=J(a,"#121212");e.backgroundHighlight={backgroundColor:n.ReactNative.processColor(`${b}${l}`),gutterColor:n.ReactNative.processColor(`${g}${r}`)}}return e}function st(){return p.before("dispatch",n.FluxDispatcher,function(e){let[a]=e;m.isEnabled&&lt(a)})}const{ActionSheetRow:he}=d.findByProps("ActionSheetRow");function ct(e,a,t,r){if(a=="MessageLongPressActionSheet"&&o.storage?.toggle?.quickid){const l=t?.message;if(!l)return;e.then(function(b){const g=p.after("default",b,function(f,h){n.React.useEffect(function(){return function(){g()}},[]);const u=Se.findInReactTree(h,function(i){return i?.find?.(function(w){return w?.props?.label==n.i18n?.Messages?.MENTION})});if(!u)return h;const R=Math.max(u.findIndex(function(i){return i?.props?.label==n.i18n?.Messages?.MENTION}),u.length-1);o.storage.debug&&(console.log(u),console.log("Position => "+R));function y(i,w,Tt,Nt){return{label:i,sub:w,icon:Tt,callback:Nt}}let A=[];const{addID:H,addMention:G,addCombine:T}=o.storage?.utils?.quickid;H&&A.push(y("Copy User's Id","Result: <Some ID>","ic_copy_id",function(){r.hideActionSheet(),n.clipboard.setString(l?.author?.id??""),S.showToast("Copied User's ID to clipboard",s.getAssetIDByName("toast_copy_link"))})),G&&A.push(y("Copy User's Mention","Result: <Mention>","ic_copy_id",function(){r.hideActionSheet(),n.clipboard.setString(`<@${l?.author?.id??""}>`),S.showToast("Copied User's Mention to clipboard",s.getAssetIDByName("toast_copy_link"))})),T&&A.push(y("Copy User's Id and Mention","Result: <Some ID> <Mention>","ic_copy_id",function(){r.hideActionSheet(),n.clipboard.setString(`${l?.author?.id??""} <@${l?.author?.id??""}>`),S.showToast("Copied User to clipboard",s.getAssetIDByName("toast_copy_link"))})),A.reverse(),R>=0&&u.splice(R,1);for(const i of A){const w=n.React.createElement(n.React.Fragment,null,n.React.createElement(he,{label:i?.label,subLabel:i?.sub,icon:i?.icon&&n.React.createElement(he.Icon,{source:s.getAssetIDByName(i?.icon)}),onPress:i?.callback}));R>=0?u.splice(R,0,w):u.push(w)}})})}}const{downloadMediaAsset:it}=d.findByProps("downloadMediaAsset"),{FormRow:me,FormIcon:pe}=C;function ut(e,a,t,r){o.storage?.toggle?.noshare&&a=="MediaShareActionSheet"&&e.then(function(l){const b=p.after("default",l,function(g,f){let[{syncer:h}]=g;n.React.useEffect(function(){return b()},[]);let u=h.sources[h.index.value];Array.isArray(u)&&(u=u[0]);const R=u.sourceURI??u.uri,y=f.props.children.props.children,A=y.findIndex(function(i){return i?.props?.label===n.i18n?.Messages?.SHARE||i?.props?.label==="Share"}),H=n.React.createElement(me,{label:"Copy Image Link",subLabel:"Added by Azzy Util",leading:n.React.createElement(pe,{style:{opacity:1},source:s.getAssetIDByName("ic_message_copy")}),onPress:function(){r.hideActionSheet(),n.clipboard.setString(R),S.showToast("Link copied")}}),G=n.React.createElement(me,{label:"Save Image",subLabel:"Added by Azzy Util",leading:n.React.createElement(pe,{style:{opacity:1},source:s.getAssetIDByName("ic_download_24px")}),onPress:function(){r.hideActionSheet(),it(R,0),S.showToast("Downloading image",s.getAssetIDByName("toast_image_saved"))}}),T=[H];if(o.storage.utils.noshare.addSaveImage&&T.push(G),y)if(A>=0){y.splice(A,1);for(const i of T)y.splice(A,0,i)}else y.push(...T)})})}const O=d.findByProps("openLazy","hideActionSheet");function dt(){return p.before("openLazy",O,function(e){let[a,t,r]=e;m.isEnabled&&(ct(a,t,r,O),ut(a,t,r,O))})}const be=d.findByStoreName("UserStore");function gt(e){if(e?.message){let{hex:a,enableReply:t}=o.storage?.utils?.customUsernameColor;a??(a="#000"),t??(t=!1);const r=function(l){return a&&(l.usernameColor=n.ReactNative.processColor(a)),l};return o.storage?.debug&&console.log("[AZZYUTILS cuc.js]",e.message.authorId,e?.message?.referencedMessage?.message?.authorId),be?.getCurrentUser?.()?.id==e?.message?.authorId&&r(e?.message),t&&e?.message?.referencedMessage?.message&&be?.getCurrentUser?.()?.id==e?.message?.referencedMessage?.message?.authorId&&r(e?.message?.referencedMessage?.message),e}}const ft=d.findByStoreName("UserStore");function ht(e){if(e?.message){if(ft?.getCurrentUser?.()?.id==e?.message?.authorId){const a=o.storage?.utils?.customRoleIcon;let t={};!a?.name&&!a?.source&&!a?.size?t={name:"BlobCatSip",source:"https://cdn.discordapp.com/role-icons/1222207470714486825/bc3ef24c3f220155f90e55cc0cb0d0cf.png?size=512",alt:"Role icon, BlobCatSip",size:18}:(t.name=a.name,t.source=a.source,t.size=a.size,t.alt=`Role icon, ${a.name}`),e.message.roleIcon=t}return e}}const{DCDChatManager:Re}=n.ReactNative.NativeModules,mt=function(){return p.before("updateRows",Re,function(e){if(m.isEnabled){let a=JSON.parse(e[1]);return o.storage?.debug&&console.log("[AZZYUTILS update_rows.js] ========== updateRows rows =========="),a.forEach(function(t){o.storage?.debug&&console.log(t),fe(t),o.storage?.toggle?.customUsernameColor&&gt(t),o.storage?.toggle?.customRoleIcon&&ht(t)}),o.storage?.debug&&console.log("====================================="),e[1]=JSON.stringify(a),e[1]}})},pt=function(){return p.after("updateRows",Re,function(e){if(m.isEnabled){let a=JSON.parse(e[1]);return a.forEach(function(t){fe(t)}),e[1]=JSON.stringify(a),e[1]}})},ye=d.findByProps("startTyping"),bt=function(){return p.instead("startTyping",ye,function(){})},Rt=function(){return p.instead("stopTyping",ye,function(){})},Ae=d.findByProps("startEditMessage"),yt=function(){return p.before("startEditMessage",Ae,function(e){})},At=function(){return p.before("editMessage",Ae,function(e){})};function Ct(e){return e?.avatarDecorationData&&o.storage?.toggle?.removeDecor&&(e.avatarDecorationData=null),e}const Et=d.findByStoreName("UserStore"),St=function(){return p.after("getUser",Et,function(e,a){m.isEnabled&&Ct(a)})},Ce=["Rawr~","Nyaa","Don't touch my tail!","Maawww! Nappy!","Awowooo","I can chase butterflies all day!","Cuddles?!","These ears pick up everything :3","Shiny things~","Belly rubs, yay","Am cute","Snuggles","Tails","Pawbs","Boxes, owo","Feeling cuddly today!","Feeling cute"];function It(e){if(o.storage?.toggle?.cactus&&e?.content?.length>25&&Fe(3)){const a=Math.floor(Math.random()*Ce.length);e.content=`${e?.content}

*${Ce[a]}*  - \`${o.storage?.utils?.cactus?.name||"Angel"}\``}}const wt=d.findByProps("sendMessage","receiveMessage");function Ft(){return p.before("sendMessage",wt,function(e){m.isEnabled&&It(e[1])})}q(o.storage,{toggle:{ctime:!1,ralert:!1,customMention:!1,notype:!1,quickid:!1,eml:!1,noshare:!1,removeDecor:!1,cactus:!1,customUsernameColor:!1,customRoleIcon:!1,customClan:!1},utils:{cactus:{name:""},quickid:{addID:!1,addMention:!1,addCombine:!1},replyAlert:{customColor:"#000",gutterColor:"#FFF",colorAlpha:"33",gutterAlpha:"33",useReplyAlert:!1,useCustomColor:!1,ignoreSelf:!1},eml:{logEdit:!1,editedMsg:[]},noshare:{addSaveImage:!1,addCopyImage:!1},customUsernameColor:{hex:"#FFFFFF",enableReply:!1},customRoleIcon:{name:"BlobCatSip",source:"https://cdn.discordapp.com/role-icons/1222207470714486825/bc3ef24c3f220155f90e55cc0cb0d0cf.png?size=512",size:18,showOthers:!1},customClan:{icon:"",tag:""}},debug:!1});let V=[],Ee;m.isEnabled=!1,V.push(dt,st,mt,pt,yt,At,St,Ft);const $t=function(){return V.forEach(function(e){return e()})},vt=function(){o.storage.utils.eml.editedMsg.forEach(function(e){n.FluxDispatcher.dispatch({type:"MESSAGE_UPDATE",message:e,otherPluginBypass:!0})}),o.storage.utils.eml.editedMsg=[]};var Mt={onLoad:function(){m.isEnabled=!0,o.storage?.toggle?.notype&&V.push(bt,Rt),Ee=$t()?.catch(function(e){console.log("AZZYUTIL, Crash On Load"),console.log(e),Ie.stopPlugin(o.id)})},onUnload:function(){m.isEnabled=!1,Ee(),vt()},settings:ot};return m.default=Mt,Object.defineProperty(m,"__esModule",{value:!0}),m})({},vendetta.plugin,vendetta.storage,vendetta.metro,vendetta,vendetta.ui.components,vendetta.metro.common,vendetta.ui,vendetta.ui.assets,vendetta.ui.toasts,vendetta.patcher,vendetta.utils,vendetta.plugins);

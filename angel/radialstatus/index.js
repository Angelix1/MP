(function(o,i,h,y,C,z,B,F,e,k,O){"use strict";const{openLazy:te,hideActionSheet:ne}=y.findByProps("openLazy","hideActionSheet");function S(n,t){if(n!=null&&t!=null)for(const r of Object.keys(t))typeof t[r]=="object"&&!Array.isArray(t[r])?(typeof n[r]!="object"&&(n[r]={}),S(n[r],t[r])):n[r]??(n[r]=t[r])}function P(){return F.before("render",C.General.View,function(n){if(!o.isEnabled)return;const[t]=n;if(!t||!Array.isArray(t.style))return;const r=i.storage.colors||{online:"#3BA55C",idle:"#FAA81A",dnd:"#ED4245"},m=t.style.findIndex(function(a){return a&&a.width===32&&a.height===32&&a.borderRadius===16});if(t.style.findIndex(function(a){return a&&a.width===92&&a.height===92&&a.borderRadius===92&&a.padding===6&&a.zIndex===0}),m!==-1){const a=t.children?.[1]?.props,s=t.children?.[3]?.props;if(!a?.hasOwnProperty("user")||typeof a.user?.id!="string"||!s?.hasOwnProperty("status")||typeof s.status!="string")return;const b=s.status,E=r[b]??null;if(E){s.size=0,s.isMobileOnline=!1,s.style.display="none",a.cutout.nativeCutouts[0].size=0;const d=i.storage.mult||1.2,u=i.storage.size||30;t.style[0]={width:u*d,height:u*d,borderRadius:16*d,overflow:"hidden"},t.style.push({borderWidth:2.5*d,borderColor:E,borderStyle:"solid"})}}})}const{ScrollView:T,View:l,Text:g,TextInput:I,Animated:R,Easing:x,Pressable:re}=e.ReactNative,{useState:A,useEffect:N,useRef:V}=e.React,{FormSection:w,FormDivider:ae,FormRow:L}=C.Forms,{openAlert:j}=y.findByProps("openAlert","dismissAlert"),{AlertModal:W,AlertActions:$,AlertActionButton:M}=y.findByProps("AlertModal","AlertActions","AlertActionButton");function G(){k.useProxy(i.storage);const[n,t]=A(i.storage.colors||{online:"#3BA55C",idle:"#FAA81A",dnd:"#ED4245"}),[r,m]=A(i.storage.mult||1.2),[a,s]=A(i.storage.size||30),b=V(new R.Value(0)).current;N(function(){R.loop(R.timing(b,{toValue:1,duration:1e3,easing:x.linear,useNativeDriver:!1})).start()},[]);const E=b.interpolate({inputRange:[0,1],outputRange:["#ff0000","#ff0000"]}),d=function(f,c){const p={...n,[f]:c};t(p),i.storage.colors=p},u=function({status:f,color:c}){return e.React.createElement(l,{style:{width:48,height:48,borderRadius:24,backgroundColor:"#1E1E1E",margin:8,justifyContent:"center",alignItems:"center"}},e.React.createElement(l,{style:{width:44,height:44,borderRadius:22,borderWidth:4,borderColor:c}}),e.React.createElement(g,{style:{color:"#fff",fontSize:10,marginTop:4}},f))},Z="I'm toooooo lazy to finish this plugin, so deal with it.",ee={online:"Online",idle:"Idle",dnd:"Do Not Disturb"};return e.React.createElement(T,{style:{backgroundColor:"#111"}},e.React.createElement(R.View,{style:{paddingVertical:40,alignItems:"center",backgroundColor:E}},e.React.createElement(g,{style:{fontSize:32,fontWeight:"bold",color:"#fff"}},"Presence Ring"),e.React.createElement(g,{style:{fontSize:14,color:"#eee",marginTop:4}},"Customise indicator colors")),e.React.createElement(w,{title:"Live preview"},e.React.createElement(l,{style:{flexDirection:"row",justifyContent:"space-evenly",paddingVertical:16}},e.React.createElement(u,{status:"Online",color:n.online}),e.React.createElement(u,{status:"Idle",color:n.idle}),e.React.createElement(u,{status:"DND",color:n.dnd}))),e.React.createElement(w,{title:"Colour palette"},e.React.createElement(l,{style:{marginHorizontal:16,marginVertical:8}},Object.entries(n).map(function([f,c]){return e.React.createElement(e.React.Fragment,null,e.React.createElement(g,{style:{color:"#fff",fontSize:16,marginBottom:4}},ee[f]),e.React.createElement(l,{style:{flexDirection:"row",alignItems:"center"}},e.React.createElement(I,{style:{flex:1,backgroundColor:"#222",color:"#fff",borderRadius:8,paddingHorizontal:12,paddingVertical:10,fontFamily:"monospace",fontSize:14,borderWidth:2,borderColor:c},value:c,onChangeText:function(p){return d(f,p)},placeholder:"#RRGGBB"}),e.React.createElement(l,{style:{width:32,height:32,borderRadius:16,backgroundColor:c,marginLeft:12,borderWidth:3,borderColor:"#444"}})))}))),e.React.createElement(w,{title:"Wild extras"},e.React.createElement(l,{style:{margin:16,padding:20,backgroundColor:"#252525",borderRadius:12,borderWidth:2,borderColor:"#5865F2"}},e.React.createElement(L,{label:"Click to Randomize the color palette",style:{color:"#aaa",fontSize:12,textAlign:"center",marginTop:8},onPress:function(){j("rainbomizer",e.React.createElement(e.React.Fragment,null,e.React.createElement(W,{title:"Note",content:e.React.createElement(g,{variant:"text-md/semibold",color:"TEXT_NORMAL"},Z),actions:e.React.createElement($,null,e.React.createElement(M,{text:"OK",variant:"primary"}))})))}}))),e.React.createElement(l,{style:{paddingBottom:"50vh"}}))}const U=y.findByStoreName("UserStore"),H=U?.getCurrentUser?.()?.id;async function K(n){let t=[];try{const r=await O.safeFetch(n);r.ok&&(t=(await r.json())?.list??[])}catch(r){h.logger.info("No Data",r)}return{list:t}}function X(n,t=10){n?.list?.some(function(r){return String(r)===String(H)})&&setTimeout(function(){h.logger.info("[INFO] You are blacklisted from using this plugin."),z.removePlugin(h.plugin.id)},t*1e3)}S(i.storage,{colors:{online:"#3BA55C",idle:"#FAA81A",dnd:"#ED4245"},mult:1.3,size:28}),o.isEnabled=!1;const v="[Radial Status]",Y=function(n){return new URL(n).pathname.split(".").pop()};let D=null;const _=[[P,[]]],q=function(){return _.forEach(function([n,t]){return n(...t)})},J="https://angelix1.github.io/static_list/antied/list.json";var Q={onLoad:async function(){const n=await K(J);X(n,15),o.isEnabled=!0;try{D=q()}catch(t){h.logger.info(`${v} Crash On Load.

`,t),B.showToast(`${v} Crashing On Load. Please check debug log for more info.`),z.stopPlugin(i.id)}},onUnload:function(){o.isEnabled=!1,D?.()},settings:G};return o.default=Q,o.getExt=Y,o.pluginNameToast=v,Object.defineProperty(o,"__esModule",{value:!0}),o})({},vendetta.plugin,vendetta,vendetta.metro,vendetta.ui.components,vendetta.plugins,vendetta.ui.toasts,vendetta.patcher,vendetta.metro.common,vendetta.storage,vendetta.utils);
